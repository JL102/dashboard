import{d as Ta,i as Ra,f as La,g as Da,j as Pa,k as Ma,n as Fa,l as Ba,o as Ka,p as ja,c as bt,a as Xe,q as Ua,t as tr}from"./DGIi1ET6.js";import{N as Hi,Q as Wi,Y as Gi,v as on,aE as Vi,O as it,_ as Qn,P as Ti,aM as Nr,ag as Na,am as qa,W as Zn,V as Ri,I as Ha,Z as Wa,X as Ga,$ as Va,k as za,a0 as Xa,m as Qa,aN as Ya,aO as Za,K as Ja,aP as $a,aQ as eo,p as nr,f as ct,a as rr,c as to,r as no,t as Kr,g as j,d as $e,q as Re,u as Vt,w as Ne,s as qr,b as Hr,B as zi,e as Yn,x as Xi,aK as ro}from"./Bt561VDD.js";import{c as $,i as Jn,b as an,r as ir,p as Lt,d as Qr,e as Yr}from"./CdiXb2lo.js";function bn(l,o,...a){var u=l,f=on,p;Hi(()=>{f!==(f=o())&&(p&&(Vi(p),p=null),p=Gi(()=>f(u,...a)))},Wi),it&&(u=Qn)}function Li(l,o,a,u,f,p){let A=it;it&&Ti();var k,O,Z=null;it&&Qn.nodeType===1&&(Z=Qn,Ti());var ae=it?Qn:l,W;Hi(()=>{const V=o()||null;var ne=V==="svg"?Nr:null;V!==k&&(W&&(V===null?Wa(W,()=>{W=null,O=null}):V===O?Ga(W):Vi(W)),V&&V!==O&&(W=Gi(()=>{if(Z=it?Z:ne?document.createElementNS(ne,V):document.createElement(V),Ta(Z,Z),u){it&&Ra(V)&&Z.append(document.createComment(""));var U=it?Na(Z):Z.appendChild(qa());it&&(U===null?Zn(!1):Ri(U)),u(Z,U)}Ha.nodes_end=Z,ae.before(Z)})),k=V,k&&(O=k))},Wi),A&&(Zn(!0),Ri(ae))}function jr(l,o,a){Va(()=>{var u=za(()=>o(l,a==null?void 0:a())||{});if(a&&(u!=null&&u.update)){var f=!1,p={};Xa(()=>{var A=a();Qa(A),f&&Ya(p,A)&&(p=A,u.update(A))}),f=!0}if(u!=null&&u.destroy)return()=>u.destroy()})}function Qi(l){var o,a,u="";if(typeof l=="string"||typeof l=="number")u+=l;else if(typeof l=="object")if(Array.isArray(l)){var f=l.length;for(o=0;o<f;o++)l[o]&&(a=Qi(l[o]))&&(u&&(u+=" "),u+=a)}else for(a in l)l[a]&&(u&&(u+=" "),u+=a);return u}function io(){for(var l,o,a=0,u="",f=arguments.length;a<f;a++)(l=arguments[a])&&(o=Qi(l))&&(u&&(u+=" "),u+=o);return u}function ao(l){return typeof l=="object"?io(l):l??""}function No(l){if(it){var o=!1,a=()=>{if(!o){if(o=!0,l.hasAttribute("value")){var u=l.value;Wr(l,"value",null),l.value=u}if(l.hasAttribute("checked")){var f=l.checked;Wr(l,"checked",null),l.checked=f}}};l.__on_r=a,eo(a),Ka()}}function oo(l,o){o?l.hasAttribute("selected")||l.setAttribute("selected",""):l.removeAttribute("selected")}function Wr(l,o,a,u){var f=l.__attributes??(l.__attributes={});it&&(f[o]=l.getAttribute(o),o==="src"||o==="srcset"||o==="href"&&l.nodeName==="LINK")||f[o]!==(f[o]=a)&&(o==="style"&&"__styles"in l&&(l.__styles={}),o==="loading"&&(l[Za]=a),a==null?l.removeAttribute(o):typeof a!="string"&&Yi(l).includes(o)?l[o]=a:l.setAttribute(o,a))}function Ur(l,o,a,u,f=!1,p=!1,A=!1){let k=it&&p;k&&Zn(!1);var O=o||{},Z=l.tagName==="OPTION";for(var ae in o)ae in a||(a[ae]=null);a.class&&(a.class=ao(a.class));var W=Yi(l),V=l.__attributes??(l.__attributes={});for(const N in a){let ee=a[N];if(Z&&N==="value"&&ee==null){l.value=l.__value="",O[N]=ee;continue}var ne=O[N];if(ee!==ne){O[N]=ee;var U=N[0]+N[1];if(U!=="$$"){if(U==="on"){const ie={},te="$$"+N;let Y=N.slice(2);var ue=Ba(Y);if(La(Y)&&(Y=Y.slice(0,-7),ie.capture=!0),!ue&&ne){if(ee!=null)continue;l.removeEventListener(Y,O[te],ie),O[te]=null}if(ee!=null)if(ue)l[`__${Y}`]=ee,Pa([Y]);else{let Q=function(oe){O[N].call(this,oe)};O[te]=Da(Y,l,Q,ie)}else ue&&(l[`__${Y}`]=void 0)}else if(N==="style"&&ee!=null)l.style.cssText=ee+"";else if(N==="autofocus")Ma(l,!!ee);else if(!p&&(N==="__value"||N==="value"&&ee!=null))l.value=l.__value=ee;else if(N==="selected"&&Z)oo(l,ee);else{var re=N;f||(re=Fa(re));var ye=re==="defaultValue"||re==="defaultChecked";if(ee==null&&!p&&!ye)if(V[N]=null,re==="value"||re==="checked"){let ie=l;const te=o===void 0;if(re==="value"){let Y=ie.defaultValue;ie.removeAttribute(re),ie.defaultValue=Y,ie.value=ie.__value=te?Y:null}else{let Y=ie.defaultChecked;ie.removeAttribute(re),ie.defaultChecked=Y,ie.checked=te?Y:!1}}else l.removeAttribute(N);else ye||W.includes(re)&&(p||typeof ee!="string")?l[re]=ee:typeof ee!="function"&&Wr(l,re,ee)}N==="style"&&"__styles"in l&&(l.__styles={})}}}return k&&Zn(!0),O}var Di=new Map;function Yi(l){var o=Di.get(l.nodeName);if(o)return o;Di.set(l.nodeName,o=[]);for(var a,u=l,f=Element.prototype;f!==u;){a=$a(u);for(var p in a)a[p].set&&o.push(p);u=Ja(u)}return o}var Gr=function(l,o){return Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},Gr(l,o)};function Zi(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");Gr(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var zt=function(){return zt=Object.assign||function(o){for(var a,u=1,f=arguments.length;u<f;u++){a=arguments[u];for(var p in a)Object.prototype.hasOwnProperty.call(a,p)&&(o[p]=a[p])}return o},zt.apply(this,arguments)};function Vn(l){var o=typeof Symbol=="function"&&Symbol.iterator,a=o&&l[o],u=0;if(a)return a.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&u>=l.length&&(l=void 0),{value:l&&l[u++],done:!l}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(l,o){var a=typeof Symbol=="function"&&l[Symbol.iterator];if(!a)return l;var u=a.call(l),f,p=[],A;try{for(;(o===void 0||o-- >0)&&!(f=u.next()).done;)p.push(f.value)}catch(k){A={error:k}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(A)throw A.error}}return p}function so(l,o,a){if(a||arguments.length===2)for(var u=0,f=o.length,p;u<f;u++)(p||!(u in o))&&(p||(p=Array.prototype.slice.call(o,0,u)),p[u]=o[u]);return l.concat(p||Array.prototype.slice.call(o))}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ji=function(){function l(o){o===void 0&&(o={}),this.adapter=o}return Object.defineProperty(l,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(l,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(l,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(l,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),l.prototype.init=function(){},l.prototype.destroy=function(){},l}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function uo(l,o){if(l.closest)return l.closest(o);for(var a=l;a;){if($i(a,o))return a;a=a.parentElement}return null}function $i(l,o){var a=l.matches||l.webkitMatchesSelector||l.msMatchesSelector;return a.call(l,o)}function co(l){var o=l;if(o.offsetParent!==null)return o.scrollWidth;var a=o.cloneNode(!0);a.style.setProperty("position","absolute"),a.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(a);var u=a.scrollWidth;return document.documentElement.removeChild(a),u}const ea=Object.freeze(Object.defineProperty({__proto__:null,closest:uo,estimateScrollWidth:co,matches:$i},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function lo(l){return l===void 0&&(l=window),fo(l)?{passive:!0}:!1}function fo(l){l===void 0&&(l=window);var o=!1;try{var a={get passive(){return o=!0,!1}},u=function(){};l.document.addEventListener("test",u,a),l.document.removeEventListener("test",u,a)}catch{o=!1}return o}const ho=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:lo},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var pe={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},Ve=new Set;Ve.add(pe.BACKSPACE);Ve.add(pe.ENTER);Ve.add(pe.SPACEBAR);Ve.add(pe.PAGE_UP);Ve.add(pe.PAGE_DOWN);Ve.add(pe.END);Ve.add(pe.HOME);Ve.add(pe.ARROW_LEFT);Ve.add(pe.ARROW_UP);Ve.add(pe.ARROW_RIGHT);Ve.add(pe.ARROW_DOWN);Ve.add(pe.DELETE);Ve.add(pe.ESCAPE);Ve.add(pe.TAB);var Qe={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27,TAB:9},ze=new Map;ze.set(Qe.BACKSPACE,pe.BACKSPACE);ze.set(Qe.ENTER,pe.ENTER);ze.set(Qe.SPACEBAR,pe.SPACEBAR);ze.set(Qe.PAGE_UP,pe.PAGE_UP);ze.set(Qe.PAGE_DOWN,pe.PAGE_DOWN);ze.set(Qe.END,pe.END);ze.set(Qe.HOME,pe.HOME);ze.set(Qe.ARROW_LEFT,pe.ARROW_LEFT);ze.set(Qe.ARROW_UP,pe.ARROW_UP);ze.set(Qe.ARROW_RIGHT,pe.ARROW_RIGHT);ze.set(Qe.ARROW_DOWN,pe.ARROW_DOWN);ze.set(Qe.DELETE,pe.DELETE);ze.set(Qe.ESCAPE,pe.ESCAPE);ze.set(Qe.TAB,pe.TAB);var Dt=new Set;Dt.add(pe.PAGE_UP);Dt.add(pe.PAGE_DOWN);Dt.add(pe.END);Dt.add(pe.HOME);Dt.add(pe.ARROW_LEFT);Dt.add(pe.ARROW_UP);Dt.add(pe.ARROW_RIGHT);Dt.add(pe.ARROW_DOWN);function qe(l){var o=l.key;if(Ve.has(o))return o;var a=ze.get(l.keyCode);return a||pe.UNKNOWN}function Zr(l){return Object.entries(l).filter(([o,a])=>o!==""&&a).map(([o])=>o).join(" ")}function $n(l,o,a,u={bubbles:!0}){if(typeof Event>"u")throw new Error("Event not defined.");if(!l)throw new Error("Tried to dispatch event without element.");const f=new CustomEvent(o,Object.assign(Object.assign({},u),{detail:a}));return l==null||l.dispatchEvent(f),f}function qo(l,o){let a=Object.getOwnPropertyNames(l);const u={};for(let f=0;f<a.length;f++){const p=a[f],A=p.indexOf("$");A!==-1&&o.indexOf(p.substring(0,A+1))!==-1||o.indexOf(p)===-1&&(u[p]=l[p])}return u}function Ho(l,o){let a=Object.getOwnPropertyNames(l);const u={};for(let f=0;f<a.length;f++){const p=a[f];p.substring(0,o.length)===o&&(u[p.substring(o.length)]=l[p])}return u}class po{constructor(){this.elementMap=new Map}on(o,a,u,f){this.elementMap.has(o)||this.elementMap.set(o,{});const p=this.elementMap.get(o);if(p==null)throw new Error("Event map couldn't be created.");a in p||(p[a]=new Map),p[a].set(u,ja(o,a,u,f))}off(o,a,u){const f=this.elementMap.get(o);if(f==null||!(a in f))return;const p=f[a],A=p.get(u);A!=null&&(A(),p.delete(u),p.size===0&&(delete f[a],Object.keys(f).length===0&&this.elementMap.delete(o)))}clear(){this.elementMap.forEach((o,a)=>{for(let[u,f]of Object.entries(o))f.forEach((p,A)=>{p()})}),this.elementMap.clear()}}function yt(l,o){let a=[];if(o)for(let u=0;u<o.length;u++){const f=o[u],p=Array.isArray(f)?f[0]:f;Array.isArray(f)&&f.length>1?a.push(p(l,f[1])):a.push(p(l))}return{update(u){if((u&&u.length||0)!=a.length)throw new Error("You must not change the length of an actions array.");if(u)for(let f=0;f<u.length;f++){const p=a[f];if(p&&p.update){const A=u[f];Array.isArray(A)&&A.length>1?p.update(A[1]):p.update()}}},destroy(){for(let u=0;u<a.length;u++){const f=a[u];f&&f.destroy&&f.destroy()}}}}var mo=Ua("<svg><!></svg>");function Jr(l,o){nr(o,!0);let a=$(o,"use",19,()=>[]),u=$(o,"tag",3,"div"),f=ir(o,["$$slots","$$events","$$legacy","use","tag","children"]);const p=$e(()=>["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(u())>-1);let A;function k(){return A}var O=bt(),Z=ct(O);{var ae=V=>{var ne=mo();let U;var ue=to(ne);bn(ue,()=>o.children??on),no(ne),an(ne,re=>A=re,()=>A),jr(ne,(re,ye)=>yt==null?void 0:yt(re,ye),a),Kr(()=>U=Ur(ne,U,{...f},void 0,!0)),Xe(V,ne)},W=V=>{var ne=bt(),U=ct(ne);{var ue=ye=>{var N=bt(),ee=ct(N);Li(ee,u,!1,(ie,te)=>{an(ie,Q=>A=Q,()=>A),jr(ie,(Q,oe)=>yt==null?void 0:yt(Q,oe),a);let Y;Kr(()=>Y=Ur(ie,Y,{...f},void 0,ie.namespaceURI===Nr,ie.nodeName.includes("-")))}),Xe(ye,N)},re=ye=>{var N=bt(),ee=ct(N);Li(ee,u,!1,(ie,te)=>{an(ie,le=>A=le,()=>A),jr(ie,(le,et)=>yt==null?void 0:yt(le,et),a);let Y;Kr(()=>Y=Ur(ie,Y,{...f},void 0,ie.namespaceURI===Nr,ie.nodeName.includes("-")));var Q=bt(),oe=ct(Q);bn(oe,()=>o.children??on),Xe(te,Q)}),Xe(ye,N)};Jn(U,ye=>{j(p)?ye(ue):ye(re,!1)},!0)}Xe(V,ne)};Jn(Z,V=>{u()==="svg"?V(ae):V(W,!1)})}return Xe(l,O),rr({getElement:k})}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var vo={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},yo={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Mi={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},zn;function go(l,o){o===void 0&&(o=!1);var a=l.CSS,u=zn;if(typeof zn=="boolean"&&!o)return zn;var f=a&&typeof a.supports=="function";if(!f)return!1;var p=a.supports("--css-vars","yes"),A=a.supports("(--css-vars: yes)")&&a.supports("color","#00000000");return u=p||A,o||(zn=u),u}function bo(l,o,a){if(!l)return{x:0,y:0};var u=o.x,f=o.y,p=u+a.left,A=f+a.top,k,O;if(l.type==="touchstart"){var Z=l;k=Z.changedTouches[0].pageX-p,O=Z.changedTouches[0].pageY-A}else{var ae=l;k=ae.pageX-p,O=ae.pageY-A}return{x:k,y:O}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fi=["touchstart","pointerdown","mousedown","keydown"],Bi=["touchend","pointerup","mouseup","contextmenu"],Xn=[],_o=function(l){Zi(o,l);function o(a){var u=l.call(this,zt(zt({},o.defaultAdapter),a))||this;return u.activationAnimationHasEnded=!1,u.activationTimer=0,u.fgDeactivationRemovalTimer=0,u.fgScale="0",u.frame={width:0,height:0},u.initialSize=0,u.layoutFrame=0,u.maxRadius=0,u.unboundedCoords={left:0,top:0},u.activationState=u.defaultActivationState(),u.activationTimerCallback=function(){u.activationAnimationHasEnded=!0,u.runDeactivationUXLogicIfReady()},u.activateHandler=function(f){u.activateImpl(f)},u.deactivateHandler=function(){u.deactivateImpl()},u.focusHandler=function(){u.handleFocus()},u.blurHandler=function(){u.handleBlur()},u.resizeHandler=function(){u.layout()},u}return Object.defineProperty(o,"cssClasses",{get:function(){return vo},enumerable:!1,configurable:!0}),Object.defineProperty(o,"strings",{get:function(){return yo},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return Mi},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),o.prototype.init=function(){var a=this,u=this.supportsPressRipple();if(this.registerRootHandlers(u),u){var f=o.cssClasses,p=f.ROOT,A=f.UNBOUNDED;requestAnimationFrame(function(){a.adapter.addClass(p),a.adapter.isUnbounded()&&(a.adapter.addClass(A),a.layoutInternal())})}},o.prototype.destroy=function(){var a=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(o.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(o.cssClasses.FG_DEACTIVATION));var u=o.cssClasses,f=u.ROOT,p=u.UNBOUNDED;requestAnimationFrame(function(){a.adapter.removeClass(f),a.adapter.removeClass(p),a.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},o.prototype.activate=function(a){this.activateImpl(a)},o.prototype.deactivate=function(){this.deactivateImpl()},o.prototype.layout=function(){var a=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){a.layoutInternal(),a.layoutFrame=0})},o.prototype.setUnbounded=function(a){var u=o.cssClasses.UNBOUNDED;a?this.adapter.addClass(u):this.adapter.removeClass(u)},o.prototype.handleFocus=function(){var a=this;requestAnimationFrame(function(){return a.adapter.addClass(o.cssClasses.BG_FOCUSED)})},o.prototype.handleBlur=function(){var a=this;requestAnimationFrame(function(){return a.adapter.removeClass(o.cssClasses.BG_FOCUSED)})},o.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},o.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},o.prototype.registerRootHandlers=function(a){var u,f;if(a){try{for(var p=Vn(Fi),A=p.next();!A.done;A=p.next()){var k=A.value;this.adapter.registerInteractionHandler(k,this.activateHandler)}}catch(O){u={error:O}}finally{try{A&&!A.done&&(f=p.return)&&f.call(p)}finally{if(u)throw u.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},o.prototype.registerDeactivationHandlers=function(a){var u,f;if(a.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var p=Vn(Bi),A=p.next();!A.done;A=p.next()){var k=A.value;this.adapter.registerDocumentInteractionHandler(k,this.deactivateHandler)}}catch(O){u={error:O}}finally{try{A&&!A.done&&(f=p.return)&&f.call(p)}finally{if(u)throw u.error}}},o.prototype.deregisterRootHandlers=function(){var a,u;try{for(var f=Vn(Fi),p=f.next();!p.done;p=f.next()){var A=p.value;this.adapter.deregisterInteractionHandler(A,this.activateHandler)}}catch(k){a={error:k}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},o.prototype.deregisterDeactivationHandlers=function(){var a,u;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var f=Vn(Bi),p=f.next();!p.done;p=f.next()){var A=p.value;this.adapter.deregisterDocumentInteractionHandler(A,this.deactivateHandler)}}catch(k){a={error:k}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}},o.prototype.removeCssVars=function(){var a=this,u=o.strings,f=Object.keys(u);f.forEach(function(p){p.indexOf("VAR_")===0&&a.adapter.updateCssVariable(u[p],null)})},o.prototype.activateImpl=function(a){var u=this;if(!this.adapter.isSurfaceDisabled()){var f=this.activationState;if(!f.isActivated){var p=this.previousActivationEvent,A=p&&a!==void 0&&p.type!==a.type;if(!A){f.isActivated=!0,f.isProgrammatic=a===void 0,f.activationEvent=a,f.wasActivatedByPointer=f.isProgrammatic?!1:a!==void 0&&(a.type==="mousedown"||a.type==="touchstart"||a.type==="pointerdown");var k=a!==void 0&&Xn.length>0&&Xn.some(function(O){return u.adapter.containsEventTarget(O)});if(k){this.resetActivationState();return}a!==void 0&&(Xn.push(a.target),this.registerDeactivationHandlers(a)),f.wasElementMadeActive=this.checkElementMadeActive(a),f.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){Xn=[],!f.wasElementMadeActive&&a!==void 0&&(a.key===" "||a.keyCode===32)&&(f.wasElementMadeActive=u.checkElementMadeActive(a),f.wasElementMadeActive&&u.animateActivation()),f.wasElementMadeActive||(u.activationState=u.defaultActivationState())})}}}},o.prototype.checkElementMadeActive=function(a){return a!==void 0&&a.type==="keydown"?this.adapter.isSurfaceActive():!0},o.prototype.animateActivation=function(){var a=this,u=o.strings,f=u.VAR_FG_TRANSLATE_START,p=u.VAR_FG_TRANSLATE_END,A=o.cssClasses,k=A.FG_DEACTIVATION,O=A.FG_ACTIVATION,Z=o.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var ae="",W="";if(!this.adapter.isUnbounded()){var V=this.getFgTranslationCoordinates(),ne=V.startPoint,U=V.endPoint;ae=ne.x+"px, "+ne.y+"px",W=U.x+"px, "+U.y+"px"}this.adapter.updateCssVariable(f,ae),this.adapter.updateCssVariable(p,W),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(k),this.adapter.computeBoundingRect(),this.adapter.addClass(O),this.activationTimer=setTimeout(function(){a.activationTimerCallback()},Z)},o.prototype.getFgTranslationCoordinates=function(){var a=this.activationState,u=a.activationEvent,f=a.wasActivatedByPointer,p;f?p=bo(u,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):p={x:this.frame.width/2,y:this.frame.height/2},p={x:p.x-this.initialSize/2,y:p.y-this.initialSize/2};var A={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:p,endPoint:A}},o.prototype.runDeactivationUXLogicIfReady=function(){var a=this,u=o.cssClasses.FG_DEACTIVATION,f=this.activationState,p=f.hasDeactivationUXRun,A=f.isActivated,k=p||!A;k&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(u),this.fgDeactivationRemovalTimer=setTimeout(function(){a.adapter.removeClass(u)},Mi.FG_DEACTIVATION_MS))},o.prototype.rmBoundedActivationClasses=function(){var a=o.cssClasses.FG_ACTIVATION;this.adapter.removeClass(a),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},o.prototype.resetActivationState=function(){var a=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return a.previousActivationEvent=void 0},o.numbers.TAP_DELAY_MS)},o.prototype.deactivateImpl=function(){var a=this,u=this.activationState;if(u.isActivated){var f=zt({},u);u.isProgrammatic?(requestAnimationFrame(function(){a.animateDeactivation(f)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){a.activationState.hasDeactivationUXRun=!0,a.animateDeactivation(f),a.resetActivationState()}))}},o.prototype.animateDeactivation=function(a){var u=a.wasActivatedByPointer,f=a.wasElementMadeActive;(u||f)&&this.runDeactivationUXLogicIfReady()},o.prototype.layoutInternal=function(){var a=this;this.frame=this.adapter.computeBoundingRect();var u=Math.max(this.frame.height,this.frame.width),f=function(){var A=Math.sqrt(Math.pow(a.frame.width,2)+Math.pow(a.frame.height,2));return A+o.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?u:f();var p=Math.floor(u*o.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&p%2!==0?this.initialSize=p-1:this.initialSize=p,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},o.prototype.updateLayoutCssVars=function(){var a=o.strings,u=a.VAR_FG_SIZE,f=a.VAR_LEFT,p=a.VAR_TOP,A=a.VAR_FG_SCALE;this.adapter.updateCssVariable(u,this.initialSize+"px"),this.adapter.updateCssVariable(A,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(f,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(p,this.unboundedCoords.top+"px"))},o}(Ji);const{applyPassive:Ki}=ho,{matches:Io}=ea;function ta(l,{ripple:o=!0,surface:a=!1,unbounded:u=!1,disabled:f=!1,color:p,active:A,rippleElement:k,eventTarget:O,activeTarget:Z,addClass:ae=U=>l.classList.add(U),removeClass:W=U=>l.classList.remove(U),addStyle:V=(U,ue)=>l.style.setProperty(U,ue),initPromise:ne=Promise.resolve()}={}){let U,ue=new po,re=Re("SMUI:addLayoutListener"),ye,N=A,ee=O,ie=Z;function te(){a?(ae("mdc-ripple-surface"),p==="primary"?(ae("smui-ripple-surface--primary"),W("smui-ripple-surface--secondary")):p==="secondary"?(W("smui-ripple-surface--primary"),ae("smui-ripple-surface--secondary")):(W("smui-ripple-surface--primary"),W("smui-ripple-surface--secondary"))):(W("mdc-ripple-surface"),W("smui-ripple-surface--primary"),W("smui-ripple-surface--secondary")),U&&N!==A&&(N=A,A?U.activate():A===!1&&U.deactivate()),o&&!U?(U=new _o({addClass:ae,browserSupportsCssVars:()=>go(window),computeBoundingRect:()=>(k||l).getBoundingClientRect(),containsEventTarget:Q=>l.contains(Q),deregisterDocumentInteractionHandler:(Q,oe)=>ue.off(document.documentElement,Q,oe),deregisterInteractionHandler:(Q,oe)=>ue.off(O||l,Q,oe),deregisterResizeHandler:Q=>window.removeEventListener("resize",Q),getWindowPageOffset:()=>{var Q,oe;return{x:(Q=window.pageXOffset)!==null&&Q!==void 0?Q:window.scrollX,y:(oe=window.pageYOffset)!==null&&oe!==void 0?oe:window.scrollY}},isSurfaceActive:()=>A??Io(Z||l,":active"),isSurfaceDisabled:()=>!!f,isUnbounded:()=>!!u,registerDocumentInteractionHandler:(Q,oe)=>{const le=Ki();ue.on(document.documentElement,Q,oe,typeof le=="boolean"?{capture:le}:le)},registerInteractionHandler:(Q,oe)=>{const le=Ki();ue.on(O||l,Q,oe,typeof le=="boolean"?{capture:le}:le)},registerResizeHandler:Q=>ue.on(window,"resize",Q),removeClass:W,updateCssVariable:V}),ne.then(()=>{U&&(U.init(),U.setUnbounded(u))})):U&&!o&&ne.then(()=>{U&&(U.destroy(),U=void 0,ue.clear())}),U&&(ee!==O||ie!==Z)&&(ee=O,ie=Z,U.destroy(),requestAnimationFrame(()=>{U&&(U.init(),U.setUnbounded(u))})),!o&&u&&ae("mdc-ripple-upgraded--unbounded")}te(),re&&(ye=re(Y));function Y(){U&&U.layout()}return{update(Q){({ripple:o,surface:a,unbounded:u,disabled:f,color:p,active:A,rippleElement:k,eventTarget:O,activeTarget:Z,addClass:ae,removeClass:W,addStyle:V,initPromise:ne}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:oe=>l.classList.add(oe),removeClass:oe=>l.classList.remove(oe),addStyle:(oe,le)=>l.style.setProperty(oe,le),initPromise:Promise.resolve()},Q)),te()},destroy(){U&&(U.destroy(),U=void 0,ue.clear(),W("mdc-ripple-surface"),W("smui-ripple-surface--primary"),W("smui-ripple-surface--secondary")),ye&&ye()}}}var xo=tr('<div class="mdc-button__touch"></div>'),wo=tr('<div class="mdc-button__ripple"></div> <!><!>',1);function Wo(l,o){nr(o,!0);let a=$(o,"use",19,()=>[]),u=$(o,"class",3,""),f=$(o,"style",3,""),p=$(o,"ripple",3,!0),A=$(o,"color",3,"primary"),k=$(o,"variant",3,"text"),O=$(o,"touch",3,!1),Z=$(o,"action",3,"close"),ae=$(o,"defaultAction",3,!1),W=$(o,"secondary",3,!1),V=$(o,"component",3,Jr),ne=$(o,"tag",19,()=>o.href==null?"button":"a"),U=ir(o,["$$slots","$$events","$$legacy","use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","children"]),ue,re=Lt({}),ye=Lt({}),N=Re("SMUI:button:context");const ee=$e(()=>N==="dialog:action"&&Z()!=null?{"data-mdc-dialog-action":Z()}:{action:Z()}),ie=$e(()=>N==="dialog:action"&&ae()?{"data-mdc-dialog-button-default":""}:{}),te=$e(()=>N==="banner"?{}:{secondary:W()});let Y=o.disabled;Vt(()=>{if(Y!==o.disabled){if(ue){const Ae=at();"blur"in Ae&&Ae.blur()}Y=U.disabled}}),Ne("SMUI:label:context","button"),Ne("SMUI:icon:context","button");function Q(Ae){re[Ae]||(re[Ae]=!0)}function oe(Ae){(!(Ae in re)||re[Ae])&&(re[Ae]=!1)}function le(Ae,Se){ye[Ae]!=Se&&(Se===""||Se==null?delete ye[Ae]:ye[Ae]=Se)}function et(){N==="banner"&&$n(at(),W()?"SMUIBannerButtonSecondaryActionClick":"SMUIBannerButtonPrimaryActionClick")}function at(){return ue.getElement()}var Te=bt(),J=ct(Te);const ot=$e(()=>[[ta,{ripple:p(),unbounded:!1,color:A(),disabled:!!o.disabled,addClass:Q,removeClass:oe,addStyle:le}],...a()]),He=$e(()=>Zr({[u()]:!0,"mdc-button":!0,"mdc-button--raised":k()==="raised","mdc-button--unelevated":k()==="unelevated","mdc-button--outlined":k()==="outlined","smui-button--color-secondary":A()==="secondary","mdc-button--touch":O(),"mdc-card__action":N==="card:action","mdc-card__action--button":N==="card:action","mdc-dialog__button":N==="dialog:action","mdc-top-app-bar__navigation-icon":N==="top-app-bar:navigation","mdc-top-app-bar__action-item":N==="top-app-bar:action","mdc-snackbar__action":N==="snackbar:actions","mdc-banner__secondary-action":N==="banner"&&W(),"mdc-banner__primary-action":N==="banner"&&!W(),"mdc-tooltip__action":N==="tooltip:rich-actions",...re})),tt=$e(()=>Object.entries(ye).map(([Ae,Se])=>`${Ae}: ${Se};`).concat([f()]).join(" "));return Qr(J,V,(Ae,Se)=>{an(Se(Ae,Yr({get tag(){return ne()},get use(){return j(ot)},get class(){return j(He)},get style(){return j(tt)}},()=>j(ee),()=>j(ie),()=>j(te),{get href(){return o.href}},()=>U,{onclick:Le=>{var De;et(),(De=o.onclick)==null||De.call(o,Le)},children:(Le,De)=>{var st=wo(),_t=qr(ct(st),2);bn(_t,()=>o.children??on);var We=qr(_t);{var dt=Fe=>{var Ye=xo();Xe(Fe,Ye)};Jn(We,Fe=>{O()&&Fe(dt)})}Xe(Le,st)},$$slots:{default:!0}})),Le=>ue=Le,()=>ue)}),Xe(l,Te),rr({getElement:at})}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Tt,gt,ve={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"};Tt={},Tt[""+ve.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Tt[""+ve.LIST_ITEM_CLASS]="mdc-list-item",Tt[""+ve.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Tt[""+ve.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Tt[""+ve.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Tt[""+ve.ROOT]="mdc-list";var rn=(gt={},gt[""+ve.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",gt[""+ve.LIST_ITEM_CLASS]="mdc-deprecated-list-item",gt[""+ve.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",gt[""+ve.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",gt[""+ve.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",gt[""+ve.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",gt[""+ve.ROOT]="mdc-deprecated-list",gt),Rt={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+ve.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+ve.LIST_ITEM_CLASS+` a,
    .`+rn[ve.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+rn[ve.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+ve.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+ve.LIST_ITEM_CLASS+` a,
    .`+ve.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+ve.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+rn[ve.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+rn[ve.LIST_ITEM_CLASS]+` a,
    .`+rn[ve.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+rn[ve.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},Oe={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ao=["input","button","textarea","select"],rt=function(l){var o=l.target;if(o){var a=(""+o.tagName).toLowerCase();Ao.indexOf(a)===-1&&l.preventDefault()}};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function So(){var l={bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""};return l}function Eo(l,o){for(var a=new Map,u=0;u<l;u++){var f=o(u).trim();if(f){var p=f[0].toLowerCase();a.has(p)||a.set(p,[]),a.get(p).push({text:f.toLowerCase(),index:u})}}return a.forEach(function(A){A.sort(function(k,O){return k.index-O.index})}),a}function Vr(l,o){var a=l.nextChar,u=l.focusItemAtIndex,f=l.sortedIndexByFirstChar,p=l.focusedItemIndex,A=l.skipFocus,k=l.isItemAtIndexDisabled;clearTimeout(o.bufferClearTimeout),o.bufferClearTimeout=setTimeout(function(){ra(o)},Oe.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),o.typeaheadBuffer=o.typeaheadBuffer+a;var O;return o.typeaheadBuffer.length===1?O=Co(f,p,k,o):O=ko(f,k,o),O!==-1&&!A&&u(O),O}function Co(l,o,a,u){var f=u.typeaheadBuffer[0],p=l.get(f);if(!p)return-1;if(f===u.currentFirstChar&&p[u.sortedIndexCursor].index===o){u.sortedIndexCursor=(u.sortedIndexCursor+1)%p.length;var A=p[u.sortedIndexCursor].index;if(!a(A))return A}u.currentFirstChar=f;var k=-1,O;for(O=0;O<p.length;O++)if(!a(p[O].index)){k=O;break}for(;O<p.length;O++)if(p[O].index>o&&!a(p[O].index)){k=O;break}return k!==-1?(u.sortedIndexCursor=k,p[u.sortedIndexCursor].index):-1}function ko(l,o,a){var u=a.typeaheadBuffer[0],f=l.get(u);if(!f)return-1;var p=f[a.sortedIndexCursor];if(p.text.lastIndexOf(a.typeaheadBuffer,0)===0&&!o(p.index))return p.index;for(var A=(a.sortedIndexCursor+1)%f.length,k=-1;A!==a.sortedIndexCursor;){var O=f[A],Z=O.text.lastIndexOf(a.typeaheadBuffer,0)===0,ae=!o(O.index);if(Z&&ae){k=A;break}A=(A+1)%f.length}return k!==-1?(a.sortedIndexCursor=k,f[a.sortedIndexCursor].index):-1}function na(l){return l.typeaheadBuffer.length>0}function ra(l){l.typeaheadBuffer=""}function ji(l,o){var a=l.event,u=l.isTargetListItem,f=l.focusedItemIndex,p=l.focusItemAtIndex,A=l.sortedIndexByFirstChar,k=l.isItemAtIndexDisabled,O=qe(a)==="ArrowLeft",Z=qe(a)==="ArrowUp",ae=qe(a)==="ArrowRight",W=qe(a)==="ArrowDown",V=qe(a)==="Home",ne=qe(a)==="End",U=qe(a)==="Enter",ue=qe(a)==="Spacebar";if(a.altKey||a.ctrlKey||a.metaKey||O||Z||ae||W||V||ne||U)return-1;var re=!ue&&a.key.length===1;if(re){rt(a);var ye={focusItemAtIndex:p,focusedItemIndex:f,nextChar:a.key.toLowerCase(),sortedIndexByFirstChar:A,skipFocus:!1,isItemAtIndexDisabled:k};return Vr(ye,o)}if(!ue)return-1;u&&rt(a);var N=u&&na(o);if(N){var ye={focusItemAtIndex:p,focusedItemIndex:f,nextChar:" ",sortedIndexByFirstChar:A,skipFocus:!1,isItemAtIndexDisabled:k};return Vr(ye,o)}return-1}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Oo(l){return l instanceof Array}var To=["Alt","Control","Meta","Shift"];function Ui(l){var o=new Set(l?To.filter(function(a){return l.getModifierState(a)}):[]);return function(a){return a.every(function(u){return o.has(u)})&&a.length===o.size}}var Ro=function(l){Zi(o,l);function o(a){var u=l.call(this,zt(zt({},o.defaultAdapter),a))||this;return u.wrapFocus=!1,u.isVertical=!0,u.isSingleSelectionList=!1,u.areDisabledItemsFocusable=!0,u.selectedIndex=Oe.UNSET_INDEX,u.focusedItemIndex=Oe.UNSET_INDEX,u.useActivatedClass=!1,u.useSelectedAttr=!1,u.ariaCurrentAttrValue=null,u.isCheckboxList=!1,u.isRadioList=!1,u.lastSelectedIndex=null,u.hasTypeahead=!1,u.typeaheadState=So(),u.sortedIndexByFirstChar=new Map,u}return Object.defineProperty(o,"strings",{get:function(){return Rt},enumerable:!1,configurable:!0}),Object.defineProperty(o,"cssClasses",{get:function(){return ve},enumerable:!1,configurable:!0}),Object.defineProperty(o,"numbers",{get:function(){return Oe},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),o.prototype.layout=function(){this.adapter.getListItemCount()!==0&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},o.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},o.prototype.setWrapFocus=function(a){this.wrapFocus=a},o.prototype.setVerticalOrientation=function(a){this.isVertical=a},o.prototype.setSingleSelection=function(a){this.isSingleSelectionList=a,a&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},o.prototype.setDisabledItemsFocusable=function(a){this.areDisabledItemsFocusable=a},o.prototype.maybeInitializeSingleSelection=function(){var a=this.getSelectedIndexFromDOM();if(a!==Oe.UNSET_INDEX){var u=this.adapter.listItemAtIndexHasClass(a,ve.LIST_ITEM_ACTIVATED_CLASS);u&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=a}},o.prototype.getSelectedIndexFromDOM=function(){for(var a=Oe.UNSET_INDEX,u=this.adapter.getListItemCount(),f=0;f<u;f++){var p=this.adapter.listItemAtIndexHasClass(f,ve.LIST_ITEM_SELECTED_CLASS),A=this.adapter.listItemAtIndexHasClass(f,ve.LIST_ITEM_ACTIVATED_CLASS);if(p||A){a=f;break}}return a},o.prototype.setHasTypeahead=function(a){this.hasTypeahead=a,a&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},o.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&na(this.typeaheadState)},o.prototype.setUseActivatedClass=function(a){this.useActivatedClass=a},o.prototype.setUseSelectedAttribute=function(a){this.useSelectedAttr=a},o.prototype.getSelectedIndex=function(){return this.selectedIndex},o.prototype.setSelectedIndex=function(a,u){u===void 0&&(u={}),this.isIndexValid(a)&&(this.isCheckboxList?this.setCheckboxAtIndex(a,u):this.isRadioList?this.setRadioAtIndex(a,u):this.setSingleSelectionAtIndex(a,u))},o.prototype.handleFocusIn=function(a){a>=0&&(this.focusedItemIndex=a,this.adapter.setAttributeForElementIndex(a,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(a,"0"))},o.prototype.handleFocusOut=function(a){var u=this;a>=0&&(this.adapter.setAttributeForElementIndex(a,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(a,"-1")),setTimeout(function(){u.adapter.isFocusInsideList()||u.setTabindexToFirstSelectedOrFocusedItem()},0)},o.prototype.isIndexDisabled=function(a){return this.adapter.listItemAtIndexHasClass(a,ve.LIST_ITEM_DISABLED_CLASS)},o.prototype.handleKeydown=function(a,u,f){var p=this,A,k=qe(a)==="ArrowLeft",O=qe(a)==="ArrowUp",Z=qe(a)==="ArrowRight",ae=qe(a)==="ArrowDown",W=qe(a)==="Home",V=qe(a)==="End",ne=qe(a)==="Enter",U=qe(a)==="Spacebar",ue=this.isVertical&&ae||!this.isVertical&&Z,re=this.isVertical&&O||!this.isVertical&&k,ye=a.key==="A"||a.key==="a",N=Ui(a);if(this.adapter.isRootFocused()){if((re||V)&&N([]))a.preventDefault(),this.focusLastElement();else if((ue||W)&&N([]))a.preventDefault(),this.focusFirstElement();else if(re&&N(["Shift"])&&this.isCheckboxList){a.preventDefault();var ee=this.focusLastElement();ee!==-1&&this.setSelectedIndexOnAction(ee,!1)}else if(ue&&N(["Shift"])&&this.isCheckboxList){a.preventDefault();var ee=this.focusFirstElement();ee!==-1&&this.setSelectedIndexOnAction(ee,!1)}if(this.hasTypeahead){var ie={event:a,focusItemAtIndex:function(Q){p.focusItemAtIndex(Q)},focusedItemIndex:-1,isTargetListItem:u,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(Q){return p.isIndexDisabled(Q)}};ji(ie,this.typeaheadState)}return}var te=this.adapter.getFocusedElementIndex();if(!(te===-1&&(te=f,te<0))){if(ue&&N([]))rt(a),this.focusNextElement(te);else if(re&&N([]))rt(a),this.focusPrevElement(te);else if(ue&&N(["Shift"])&&this.isCheckboxList){rt(a);var ee=this.focusNextElement(te);ee!==-1&&this.setSelectedIndexOnAction(ee,!1)}else if(re&&N(["Shift"])&&this.isCheckboxList){rt(a);var ee=this.focusPrevElement(te);ee!==-1&&this.setSelectedIndexOnAction(ee,!1)}else if(W&&N([]))rt(a),this.focusFirstElement();else if(V&&N([]))rt(a),this.focusLastElement();else if(W&&N(["Control","Shift"])&&this.isCheckboxList){if(rt(a),this.isIndexDisabled(te))return;this.focusFirstElement(),this.toggleCheckboxRange(0,te,te)}else if(V&&N(["Control","Shift"])&&this.isCheckboxList){if(rt(a),this.isIndexDisabled(te))return;this.focusLastElement(),this.toggleCheckboxRange(te,this.adapter.getListItemCount()-1,te)}else if(ye&&N(["Control"])&&this.isCheckboxList)a.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===Oe.UNSET_INDEX?[]:this.selectedIndex,!0);else if((ne||U)&&N([])){if(u){var Y=a.target;if(Y&&Y.tagName==="A"&&ne||(rt(a),this.isIndexDisabled(te)))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(te,!1),this.adapter.notifyAction(te))}}else if((ne||U)&&N(["Shift"])&&this.isCheckboxList){var Y=a.target;if(Y&&Y.tagName==="A"&&ne||(rt(a),this.isIndexDisabled(te)))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange((A=this.lastSelectedIndex)!==null&&A!==void 0?A:te,te,te),this.adapter.notifyAction(te))}if(this.hasTypeahead){var ie={event:a,focusItemAtIndex:function(oe){p.focusItemAtIndex(oe)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:u,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(oe){return p.isIndexDisabled(oe)}};ji(ie,this.typeaheadState)}}},o.prototype.handleClick=function(a,u,f){var p,A=Ui(f);a!==Oe.UNSET_INDEX&&(this.isIndexDisabled(a)||(A([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(a,u),this.adapter.notifyAction(a)):this.isCheckboxList&&A(["Shift"])&&(this.toggleCheckboxRange((p=this.lastSelectedIndex)!==null&&p!==void 0?p:a,a,a),this.adapter.notifyAction(a))))},o.prototype.focusNextElement=function(a){var u=this.adapter.getListItemCount(),f=a,p=null;do{if(f++,f>=u)if(this.wrapFocus)f=0;else return a;if(f===p)return-1;p=p??f}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(f));return this.focusItemAtIndex(f),f},o.prototype.focusPrevElement=function(a){var u=this.adapter.getListItemCount(),f=a,p=null;do{if(f--,f<0)if(this.wrapFocus)f=u-1;else return a;if(f===p)return-1;p=p??f}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(f));return this.focusItemAtIndex(f),f},o.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},o.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},o.prototype.focusInitialElement=function(){var a=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(a),a},o.prototype.setEnabled=function(a,u){this.isIndexValid(a,!1)&&(u?(this.adapter.removeClassForElementIndex(a,ve.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(a,Rt.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(a,ve.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(a,Rt.ARIA_DISABLED,"true")))},o.prototype.setSingleSelectionAtIndex=function(a,u){if(u===void 0&&(u={}),!(this.selectedIndex===a&&!u.forceUpdate)){var f=ve.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(f=ve.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==Oe.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,f),this.setAriaForSingleSelectionAtIndex(a),this.setTabindexAtIndex(a),a!==Oe.UNSET_INDEX&&this.adapter.addClassForElementIndex(a,f),this.selectedIndex=a,u.isUserInteraction&&!u.forceUpdate&&this.adapter.notifySelectionChange([a])}},o.prototype.setAriaForSingleSelectionAtIndex=function(a){this.selectedIndex===Oe.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(a,Rt.ARIA_CURRENT));var u=this.ariaCurrentAttrValue!==null,f=u?Rt.ARIA_CURRENT:Rt.ARIA_SELECTED;if(this.selectedIndex!==Oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,f,"false"),a!==Oe.UNSET_INDEX){var p=u?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(a,f,p)}},o.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?Rt.ARIA_SELECTED:Rt.ARIA_CHECKED},o.prototype.setRadioAtIndex=function(a,u){u===void 0&&(u={});var f=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(a,!0),!(this.selectedIndex===a&&!u.forceUpdate)&&(this.selectedIndex!==Oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,f,"false"),this.adapter.setAttributeForElementIndex(a,f,"true"),this.selectedIndex=a,u.isUserInteraction&&!u.forceUpdate&&this.adapter.notifySelectionChange([a]))},o.prototype.setCheckboxAtIndex=function(a,u){u===void 0&&(u={});for(var f=this.selectedIndex,p=u.isUserInteraction?new Set(f===Oe.UNSET_INDEX?[]:f):null,A=this.getSelectionAttribute(),k=[],O=0;O<this.adapter.getListItemCount();O++){var Z=p==null?void 0:p.has(O),ae=a.indexOf(O)>=0;ae!==Z&&k.push(O),this.adapter.setCheckedCheckboxOrRadioAtIndex(O,ae),this.adapter.setAttributeForElementIndex(O,A,ae?"true":"false")}this.selectedIndex=a,u.isUserInteraction&&k.length&&this.adapter.notifySelectionChange(k)},o.prototype.toggleCheckboxRange=function(a,u,f){this.lastSelectedIndex=f;for(var p=new Set(this.selectedIndex===Oe.UNSET_INDEX?[]:this.selectedIndex),A=!(p!=null&&p.has(f)),k=Pi([a,u].sort(),2),O=k[0],Z=k[1],ae=this.getSelectionAttribute(),W=[],V=O;V<=Z;V++)if(!this.isIndexDisabled(V)){var ne=p.has(V);A!==ne&&(W.push(V),this.adapter.setCheckedCheckboxOrRadioAtIndex(V,A),this.adapter.setAttributeForElementIndex(V,ae,""+A),A?p.add(V):p.delete(V))}W.length&&(this.selectedIndex=so([],Pi(p)),this.adapter.notifySelectionChange(W))},o.prototype.setTabindexAtIndex=function(a){this.focusedItemIndex===Oe.UNSET_INDEX&&a!==0?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==a&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),!(this.selectedIndex instanceof Array)&&this.selectedIndex!==a&&this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),a!==Oe.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(a,"tabindex","0")},o.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},o.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var a=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(a)},o.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?typeof this.selectedIndex=="number"&&this.selectedIndex!==Oe.UNSET_INDEX?this.selectedIndex:Oo(this.selectedIndex)&&this.selectedIndex.length>0?this.selectedIndex.reduce(function(a,u){return Math.min(a,u)}):0:Math.max(this.focusedItemIndex,0)},o.prototype.isIndexValid=function(a,u){var f=this;if(u===void 0&&(u=!0),a instanceof Array){if(!this.isCheckboxList&&u)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return a.length===0?!0:a.some(function(p){return f.isIndexInRange(p)})}else if(typeof a=="number"){if(this.isCheckboxList&&u)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+a);return this.isIndexInRange(a)||this.isSingleSelectionList&&a===Oe.UNSET_INDEX}else return!1},o.prototype.isIndexInRange=function(a){var u=this.adapter.getListItemCount();return a>=0&&a<u},o.prototype.setSelectedIndexOnAction=function(a,u){this.lastSelectedIndex=a,this.isCheckboxList?(this.toggleCheckboxAtIndex(a,u),this.adapter.notifySelectionChange([a])):this.setSelectedIndex(a,{isUserInteraction:!0})},o.prototype.toggleCheckboxAtIndex=function(a,u){var f=this.getSelectionAttribute(),p=this.adapter.isCheckboxCheckedAtIndex(a),A;u?A=p:(A=!p,this.adapter.setCheckedCheckboxOrRadioAtIndex(a,A)),this.adapter.setAttributeForElementIndex(a,f,A?"true":"false");var k=this.selectedIndex===Oe.UNSET_INDEX?[]:this.selectedIndex.slice();A?k.push(a):k=k.filter(function(O){return O!==a}),this.selectedIndex=k},o.prototype.focusItemAtIndex=function(a){this.adapter.focusItemAtIndex(a),this.focusedItemIndex=a},o.prototype.checkboxListToggleAll=function(a,u){var f=this.adapter.getListItemCount();if(a.length===f)this.setCheckboxAtIndex([],{isUserInteraction:u});else{for(var p=[],A=0;A<f;A++)(!this.isIndexDisabled(A)||a.indexOf(A)>-1)&&p.push(A);this.setCheckboxAtIndex(p,{isUserInteraction:u})}},o.prototype.typeaheadMatchItem=function(a,u,f){var p=this;f===void 0&&(f=!1);var A={focusItemAtIndex:function(k){p.focusItemAtIndex(k)},focusedItemIndex:u||this.focusedItemIndex,nextChar:a,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:f,isItemAtIndexDisabled:function(k){return p.isIndexDisabled(k)}};return Vr(A,this.typeaheadState)},o.prototype.typeaheadInitSortedIndex=function(){return Eo(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},o.prototype.clearTypeaheadBuffer=function(){ra(this.typeaheadState)},o}(Ji);function Go(l,o){nr(o,!0);const{closest:a,matches:u}=ea;let f=Re("SMUI:list:nav"),p=$(o,"use",19,()=>[]),A=$(o,"class",3,""),k=$(o,"nonInteractive",3,!1),O=$(o,"dense",3,!1),Z=$(o,"textualList",3,!1),ae=$(o,"avatarList",3,!1),W=$(o,"iconList",3,!1),V=$(o,"imageList",3,!1),ne=$(o,"thumbnailList",3,!1),U=$(o,"videoList",3,!1),ue=$(o,"twoLine",3,!1),re=$(o,"threeLine",3,!1),ye=$(o,"vertical",3,!0),N=$(o,"wrapFocus",19,()=>Re("SMUI:list:wrapFocus")??!1),ee=$(o,"singleSelection",3,!1),ie=$(o,"disabledItemsFocusable",3,!1),te=$(o,"selectedIndex",31,()=>-1),Y=$(o,"radioList",3,!1),Q=$(o,"checkList",3,!1),oe=$(o,"hasTypeahead",3,!1),le=$(o,"component",3,Jr),et=$(o,"tag",3,f?"nav":"ul"),at=ir(o,["$$slots","$$events","$$legacy","use","class","nonInteractive","dense","textualList","avatarList","iconList","imageList","thumbnailList","videoList","twoLine","threeLine","vertical","wrapFocus","singleSelection","disabledItemsFocusable","selectedIndex","radioList","checkList","hasTypeahead","component","tag","children"]),Te,J=Hr(void 0),ot=[],He=Re("SMUI:list:role");const tt=new WeakMap;let Ae=Re("SMUI:dialog:selection"),Se=Re("SMUI:addLayoutListener"),Le;Ne("SMUI:list:nonInteractive",k()),Ne("SMUI:separator:context","list"),He||(ee()?(He="listbox",Ne("SMUI:list:item:role","option")):Y()?(He="radiogroup",Ne("SMUI:list:item:role","radio")):Q()?(He="group",Ne("SMUI:list:item:role","checkbox")):(He="list",Ne("SMUI:list:item:role",void 0))),Vt(()=>{j(J)&&j(J).setVerticalOrientation(ye())}),Vt(()=>{j(J)&&j(J).setWrapFocus(N())}),Vt(()=>{j(J)&&j(J).setHasTypeahead(oe())}),Vt(()=>{j(J)&&j(J).setSingleSelection(ee())}),Vt(()=>{j(J)&&j(J).setDisabledItemsFocusable(ie())}),Vt(()=>{j(J)&&ee()&&Qt()!==te()&&j(J).setSelectedIndex(te())}),Se&&(Le=Se(Mt)),Ne("SMUI:list:item:mount",H=>{ot.push(H),tt.set(H.element,H),ee()&&H.selected&&te(Ee(H.element))}),Ne("SMUI:list:item:unmount",H=>{const G=(H&&ot.findIndex(K=>K===H))??-1;G!==-1&&(ot.splice(G,1),tt.delete(H.element))});const De=Re("SMUI:list:mount"),st=Re("SMUI:list:unmount");zi(()=>{Yn(J,Lt(new Ro({addClassForElementIndex:z,focusItemAtIndex:Be,getAttributeForElementIndex:(G,K)=>{var _e;return((_e=xe()[G])==null?void 0:_e.getAttr(K))??null},getFocusedElementIndex:()=>document.activeElement?xe().map(G=>G.element).indexOf(document.activeElement):-1,getListItemCount:()=>ot.length,getPrimaryTextAtIndex:be,hasCheckboxAtIndex:G=>{var K;return((K=xe()[G])==null?void 0:K.hasCheckbox)??!1},hasRadioAtIndex:G=>{var K;return((K=xe()[G])==null?void 0:K.hasRadio)??!1},isCheckboxCheckedAtIndex:G=>{const K=xe()[G];return((K==null?void 0:K.hasCheckbox)&&K.checked)??!1},isFocusInsideList:()=>Te!=null&&ut()!==document.activeElement&&ut().contains(document.activeElement),isRootFocused:()=>Te!=null&&document.activeElement===ut(),listItemAtIndexHasClass:sn,notifyAction:G=>{te(G),Te!=null&&$n(ut(),"SMUIListAction",{index:G})},notifySelectionChange:G=>{Te!=null&&$n(ut(),"SMUIListSelectionChange",{changedIndices:G})},removeClassForElementIndex:Pt,setAttributeForElementIndex:ht,setCheckedCheckboxOrRadioAtIndex:(G,K)=>{xe()[G].checked=K},setTabIndexForListItemChildren:(G,K)=>{const _e=xe()[G];Array.prototype.forEach.call(_e.element.querySelectorAll("button:not(:disabled), a"),xt=>{xt.setAttribute("tabindex",K)})}})));const H={get element(){return ut()},get items(){return ot},get typeaheadInProgress(){if(!j(J))throw new Error("Instance is undefined.");return j(J).isTypeaheadInProgress()},typeaheadMatchItem(G,K){if(!j(J))throw new Error("Instance is undefined.");return j(J).typeaheadMatchItem(G,K,!0)},getOrderedList:xe,focusItemAtIndex:Be,addClassForElementIndex:z,removeClassForElementIndex:Pt,setAttributeForElementIndex:ht,removeAttributeForElementIndex:L,getAttributeFromElementIndex:fe,getPrimaryTextAtIndex:be};return De&&De(H),j(J).init(),j(J).layout(),()=>{var G;st&&st(H),(G=j(J))==null||G.destroy()}}),Xi(()=>{Le&&Le()});function _t(H){j(J)&&H.target&&j(J).handleKeydown(H,H.target.classList.contains("mdc-deprecated-list-item"),Ee(H.target))}function We(H){j(J)&&H.target&&j(J).handleFocusIn(Ee(H.target))}function dt(H){j(J)&&H.target&&j(J).handleFocusOut(Ee(H.target))}function Fe(H){j(J)&&H.target&&j(J).handleClick(Ee(H.target),!u(H.target,'input[type="checkbox"], input[type="radio"]'),H)}function Ye(H){if(Y()||Q()){const G=Ee(H.target);if(G!==-1){const K=xe()[G];K&&(Y()&&!K.checked||Q())&&(u(H.detail.target,'input[type="checkbox"], input[type="radio"]')||(K.checked=!K.checked),K.activateRipple(),window.requestAnimationFrame(()=>{K.deactivateRipple()}))}}}function xe(){return Te==null?[]:[...ut().children].map(H=>tt.get(H)).filter(H=>H&&H._smui_list_item_accessor)}function sn(H,G){const K=xe()[H];return(K&&K.hasClass(G))??!1}function z(H,G){const K=xe()[H];K&&K.addClass(G)}function Pt(H,G){const K=xe()[H];K&&K.removeClass(G)}function ht(H,G,K){const _e=xe()[H];_e&&_e.addAttr(G,K)}function L(H,G){const K=xe()[H];K&&K.removeAttr(G)}function fe(H,G){const K=xe()[H];return K?K.getAttr(G):null}function be(H){const G=xe()[H];return(G&&G.getPrimaryText())??""}function Ee(H){const G=a(H,".mdc-deprecated-list-item, .mdc-deprecated-list");return G&&u(G,".mdc-deprecated-list-item")?xe().map(K=>K==null?void 0:K.element).indexOf(G):-1}function Mt(){if(!j(J))throw new Error("Instance is undefined.");return j(J).layout()}function Xt(H,G){if(!j(J))throw new Error("Instance is undefined.");return j(J).setEnabled(H,G)}function un(){if(!j(J))throw new Error("Instance is undefined.");return j(J).isTypeaheadInProgress()}function Qt(){if(!j(J))throw new Error("Instance is undefined.");return j(J).getSelectedIndex()}function pt(){if(!j(J))throw new Error("Instance is undefined.");return j(J).getFocusedItemIndex()}function Be(H){const G=xe()[H];G&&"focus"in G.element&&G.element.focus()}function ut(){return Te.getElement()}var It=bt(),_n=ct(It);const Ft=$e(()=>Zr({[A()]:!0,"mdc-deprecated-list":!0,"mdc-deprecated-list--non-interactive":k(),"mdc-deprecated-list--dense":O(),"mdc-deprecated-list--textual-list":Z(),"mdc-deprecated-list--avatar-list":ae()||Ae,"mdc-deprecated-list--icon-list":W(),"mdc-deprecated-list--image-list":V(),"mdc-deprecated-list--thumbnail-list":ne(),"mdc-deprecated-list--video-list":U(),"mdc-deprecated-list--two-line":ue(),"smui-list--three-line":re()&&!ue()}));return Qr(_n,le,(H,G)=>{an(G(H,Yr({get tag(){return et()},get use(){return p()},get class(){return j(Ft)},role:He},()=>at,{onkeydown:K=>{var _e;_t(K),(_e=o.onkeydown)==null||_e.call(o,K)},onfocusin:K=>{var _e;We(K),(_e=o.onfocusin)==null||_e.call(o,K)},onfocusout:K=>{var _e;dt(K),(_e=o.onfocusout)==null||_e.call(o,K)},onclick:K=>{var _e;Fe(K),(_e=o.onclick)==null||_e.call(o,K)},onSMUIAction:K=>{var _e;Ye(K),(_e=o.onSMUIAction)==null||_e.call(o,K)},children:(K,_e)=>{var Bt=bt(),xt=ct(Bt);bn(xt,()=>o.children??on),Xe(K,Bt)},$$slots:{default:!0}})),K=>Te=K,()=>Te)}),Xe(l,It),rr({layout:Mt,setEnabled:Xt,getTypeaheadInProgress:un,getSelectedIndex:Qt,getFocusedItemIndex:pt,focusItemAtIndex:Be,getElement:ut})}let Lo=0;var Do=tr('<span class="mdc-deprecated-list-item__ripple"></span>'),Po=tr("<!><!>",1);function Vo(l,o){nr(o,!0);let a=()=>{};function u(L){return L===a}let f=Re("SMUI:list:item:nav"),p=$(o,"use",19,()=>[]),A=$(o,"class",3,""),k=$(o,"style",3,""),O=$(o,"nonInteractive",19,()=>Re("SMUI:list:nonInteractive")??!1),Z=$(o,"ripple",19,()=>!O()),ae=$(o,"wrapper",3,!1),W=$(o,"activated",15,!1),V=$(o,"role",19,()=>ae()?"presentation":Re("SMUI:list:item:role")),ne=$(o,"selected",15,!1),U=$(o,"disabled",3,!1),ue=$(o,"skipRestoreFocus",3,!1),re=$(o,"tabindex",15,a),ye=$(o,"inputId",19,()=>"SMUI-form-field-list-"+Lo++),N=$(o,"component",3,Jr),ee=$(o,"tag",19,()=>f?o.href?"a":"span":"li"),ie=ir(o,["$$slots","$$events","$$legacy","use","class","style","color","nonInteractive","ripple","wrapper","activated","role","selected","disabled","skipRestoreFocus","tabindex","inputId","href","component","tag","children"]);Ne("SMUI:list:nonInteractive",void 0),Ne("SMUI:list:item:role",void 0);let te,Y=Lt({}),Q=Lt({}),oe=Lt({}),le=Hr(void 0),et=Hr(void 0);const at=$e(()=>u(re())?!O()&&!U()&&(ne()||j(le)&&j(le).checked)?0:-1:re());Ne("SMUI:generic:input:props",{id:ye()}),Ne("SMUI:separator:context",void 0),Ne("SMUI:generic:input:mount",L=>{("_smui_checkbox_accessor"in L||"_smui_radio_accessor"in L)&&Yn(le,Lt(L))}),Ne("SMUI:generic:input:unmount",()=>{Yn(le,void 0)});const Te=Re("SMUI:list:item:mount"),J=Re("SMUI:list:item:unmount");zi(()=>{if(!ne()&&!O()){let fe=!0,be=te.getElement();for(;be.previousElementSibling;)if(be=be.previousElementSibling,be.nodeType===1&&be.classList.contains("mdc-deprecated-list-item")&&!be.classList.contains("mdc-deprecated-list-item--disabled")){fe=!1;break}fe&&Yn(et,Lt(window.requestAnimationFrame(()=>st(be))))}const L={_smui_list_item_accessor:!0,get element(){return Fe()},get selected(){return ne()},set selected(fe){ne(fe)},hasClass:ot,addClass:He,removeClass:tt,getAttr:Se,addAttr:Le,removeAttr:De,getPrimaryText:dt,get checked(){return(j(le)&&j(le).checked)??!1},set checked(fe){j(le)&&(j(le).checked=!!fe)},get hasCheckbox(){return!!(j(le)&&"_smui_checkbox_accessor"in j(le))},get hasRadio(){return!!(j(le)&&"_smui_radio_accessor"in j(le))},activateRipple(){j(le)&&j(le).activateRipple()},deactivateRipple(){j(le)&&j(le).deactivateRipple()},getValue(){return o.value},action:We,get tabindex(){return j(at)},set tabindex(fe){re(fe)},get disabled(){return U()},get activated(){return W()},set activated(fe){W(fe)}};return Te&&Te(L),()=>{J&&J(L)}}),Xi(()=>{j(et)&&window.cancelAnimationFrame(j(et))});function ot(L){return L in Y?Y[L]:Fe().classList.contains(L)}function He(L){Y[L]||(Y[L]=!0)}function tt(L){(!(L in Y)||Y[L])&&(Y[L]=!1)}function Ae(L,fe){Q[L]!=fe&&(fe===""||fe==null?delete Q[L]:Q[L]=fe)}function Se(L){return L in oe?oe[L]??null:Fe().getAttribute(L)}function Le(L,fe){oe[L]!==fe&&(oe[L]=fe)}function De(L){(!(L in oe)||oe[L]!=null)&&(oe[L]=void 0)}function st(L){let fe=!0;for(;L.nextElementSibling;)if(L=L.nextElementSibling,L.nodeType===1&&L.classList.contains("mdc-deprecated-list-item")){const be=L.attributes.getNamedItem("tabindex");if(be&&be.value==="0"){fe=!1;break}}fe&&re(0)}function _t(L){const fe=L.key==="Enter",be=L.key==="Space";(fe||be)&&We(L)}function We(L){U()||$n(Fe(),"SMUIAction",L)}function dt(){const L=Fe(),fe=L.querySelector(".mdc-deprecated-list-item__primary-text");if(fe)return fe.textContent??"";const be=L.querySelector(".mdc-deprecated-list-item__text");return be?be.textContent??"":L.textContent??""}function Fe(){return te.getElement()}var Ye=bt(),xe=ct(Ye);const sn=$e(()=>[...O()?[]:[[ta,{ripple:!j(le),unbounded:!1,color:(W()||ne())&&o.color==null?"primary":o.color,disabled:U(),addClass:He,removeClass:tt,addStyle:Ae}]],...p()]),z=$e(()=>Zr({[A()]:!0,"mdc-deprecated-list-item":!ae(),"mdc-deprecated-list-item__wrapper":ae(),"mdc-deprecated-list-item--activated":W(),"mdc-deprecated-list-item--selected":ne(),"mdc-deprecated-list-item--disabled":U(),"mdc-menu-item--selected":!f&&V()==="menuitem"&&ne(),"smui-menu-item--non-interactive":O(),...Y})),Pt=$e(()=>Object.entries(Q).map(([L,fe])=>`${L}: ${fe};`).concat([k()]).join(" ")),ht=$e(()=>ue()||void 0);return Qr(xe,N,(L,fe)=>{an(fe(L,Yr({get tag(){return ee()},get use(){return j(sn)},get class(){return j(z)},get style(){return j(Pt)}},()=>f&&W()?{"aria-current":"page"}:{},()=>!f||ae()?{role:V()}:{},()=>!f&&V()==="option"?{"aria-selected":ne()?"true":"false"}:{},()=>!f&&(V()==="radio"||V()==="checkbox")?{"aria-checked":j(le)&&j(le).checked?"true":"false"}:{},()=>f?{}:{"aria-disabled":U()?"true":"false"},{get"data-menu-item-skip-restore-focus"(){return j(ht)},get tabindex(){return j(at)},get href(){return o.href}},()=>oe,()=>ie,{onclick:be=>{var Ee;We(be),(Ee=o.onclick)==null||Ee.call(o,be)},onkeydown:be=>{var Ee;_t(be),(Ee=o.onkeydown)==null||Ee.call(o,be)},children:(be,Ee)=>{var Mt=Po(),Xt=ct(Mt);{var un=pt=>{var Be=Do();Xe(pt,Be)};Jn(Xt,pt=>{Z()&&pt(un)})}var Qt=qr(Xt);bn(Qt,()=>o.children??on),Xe(be,Mt)},$$slots:{default:!0}})),be=>te=be,()=>te)}),Xe(l,Ye),rr({action:We,getPrimaryText:dt,getElement:Fe})}var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mo(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ia={exports:{}};(function(l,o){(function(a,u){l.exports=u()})(Ni,function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(e,t)},u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f(e,t,n){for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ni,A=Object.keys,k=Array.isArray;function O(e,t){return typeof t!="object"||A(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||p.Promise||(p.Promise=Promise);var Z=Object.getPrototypeOf,ae={}.hasOwnProperty;function W(e,t){return ae.call(e,t)}function V(e,t){typeof t=="function"&&(t=t(Z(e))),(typeof Reflect>"u"?A:Reflect.ownKeys)(t).forEach(function(n){U(e,n,t[n])})}var ne=Object.defineProperty;function U(e,t,n,r){ne(e,t,O(n&&W(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ue(e){return{from:function(t){return e.prototype=Object.create(t.prototype),U(e.prototype,"constructor",e),{extend:V.bind(null,e.prototype)}}}}var re=Object.getOwnPropertyDescriptor,ye=[].slice;function N(e,t,n){return ye.call(e,t,n)}function ee(e,t){return t(e)}function ie(e){if(!e)throw new Error("Assertion Failed")}function te(e){p.setImmediate?setImmediate(e):setTimeout(e,0)}function Y(e,t){if(typeof t=="string"&&W(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=Y(e,t[r]);n.push(s)}return n}var c=t.indexOf(".");if(c!==-1){var d=e[t.substr(0,c)];return d==null?void 0:Y(d,t.substr(c+1))}}function Q(e,t,n){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){ie(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Q(e,t[r],n[r])}else{var s,c,d=t.indexOf(".");d!==-1?(s=t.substr(0,d),(c=t.substr(d+1))===""?n===void 0?k(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n:Q(d=!(d=e[s])||!W(e,s)?e[s]={}:d,c,n)):n===void 0?k(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function oe(e){var t,n={};for(t in e)W(e,t)&&(n[t]=e[t]);return n}var le=[].concat;function et(e){return le.apply([],e)}var H="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(et([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return p[e]}),at=new Set(H.map(function(e){return p[e]})),Te=null;function J(e){return Te=new WeakMap,e=function t(n){if(!n||typeof n!="object")return n;var r=Te.get(n);if(r)return r;if(k(n)){r=[],Te.set(n,r);for(var i=0,s=n.length;i<s;++i)r.push(t(n[i]))}else if(at.has(n.constructor))r=n;else{var c,d=Z(n);for(c in r=d===Object.prototype?{}:Object.create(d),Te.set(n,r),n)W(n,c)&&(r[c]=t(n[c]))}return r}(e),Te=null,e}var ot={}.toString;function He(e){return ot.call(e).slice(8,-1)}var tt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ae=typeof tt=="symbol"?function(e){var t;return e!=null&&(t=e[tt])&&t.apply(e)}:function(){return null};function Se(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var Le={};function De(e){var t,n,r,i;if(arguments.length===1){if(k(e))return e.slice();if(this===Le&&typeof e=="string")return[e];if(i=Ae(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var st=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ft=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],nt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ft),_t={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function We(e,t){this.name=e,this.message=t}function dt(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Fe(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=dt(e,t)}function Ye(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=dt(e,this.failures)}ue(We).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ue(Fe).from(We),ue(Ye).from(We);var xe=nt.reduce(function(e,t){return e[t]=t+"Error",e},{}),sn=We,z=nt.reduce(function(e,t){var n=t+"Error";function r(i,s){this.name=n,i?typeof i=="string"?(this.message="".concat(i).concat(s?`
 `+s:""),this.inner=s||null):typeof i=="object"&&(this.message="".concat(i.name," ").concat(i.message),this.inner=i):(this.message=_t[t]||n,this.inner=null)}return ue(r).from(sn),e[t]=r,e},{});z.Syntax=SyntaxError,z.Type=TypeError,z.Range=RangeError;var Pt=Ft.reduce(function(e,t){return e[t+"Error"]=z[t],e},{}),ht=nt.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=z[t]),e},{});function L(){}function fe(e){return e}function be(e,t){return e==null||e===fe?t:function(n){return t(e(n))}}function Ee(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Mt(e,t){return e===L?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ee(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ee(i,this.onerror):i),s!==void 0?s:n}}function Xt(e,t){return e===L?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ee(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ee(r,this.onerror):r)}}function un(e,t){return e===L?t:function(n){var r=e.apply(this,arguments);O(n,r);var i=this.onsuccess,s=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Ee(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Ee(s,this.onerror):s),r===void 0?n===void 0?void 0:n:O(r,n)}}function Qt(e,t){return e===L?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function pt(e,t){return e===L?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}ht.ModifyError=Fe,ht.DexieError=We,ht.BulkError=Ye;var Be=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ut(e){Be=e}var It={},_n=100,H=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Z(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Z(t),e]}(),Ft=H[0],nt=H[1],H=H[2],nt=nt&&nt.then,G=Ft&&Ft.constructor,K=!!H,_e=function(e,t){cn.push([e,t]),xt&&(queueMicrotask(oa),xt=!1)},Bt=!0,xt=!0,Kt=[],In=[],ar=fe,wt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:L,pgp:!1,env:{},finalize:L},X=wt,cn=[],jt=0,xn=[];function B(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=X;if(typeof e!="function"){if(e!==It)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&sr(this,this._value))}this._state=null,this._value=null,++t.ref,function n(r,i){try{i(function(s){if(r._state===null){if(s===r)throw new TypeError("A promise cannot be resolved with itself.");var c=r._lib&&Yt();s&&typeof s.then=="function"?n(r,function(d,m){s instanceof B?s._then(d,m):s.then(d,m)}):(r._state=!0,r._value=s,ei(r)),c&&Zt()}},sr.bind(null,r))}catch(s){sr(r,s)}}(this,e)}var or={get:function(){var e=X,t=En;function n(r,i){var s=this,c=!e.global&&(e!==X||t!==En),d=c&&!St(),m=new B(function(y,_){ur(s,new $r(ni(r,e,c,d),ni(i,e,c,d),y,_,e))});return this._consoleTask&&(m._consoleTask=this._consoleTask),m}return n.prototype=It,n},set:function(e){U(this,"then",e&&e.prototype===It?or:{get:function(){return e},set:or.set})}};function $r(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function sr(e,t){var n,r;In.push(t),e._state===null&&(n=e._lib&&Yt(),t=ar(t),e._state=!1,e._value=t,r=e,Kt.some(function(i){return i._value===r._value})||Kt.push(r),ei(e),n&&Zt())}function ei(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ur(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),jt===0&&(++jt,_e(function(){--jt==0&&cr()},[]))}function ur(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++jt,_e(aa,[n,e,t])}else e._listeners.push(t)}function aa(e,t,n){try{var r,i=t._value;!t._state&&In.length&&(In=[]),r=Be&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||In.indexOf(i)!==-1||function(s){for(var c=Kt.length;c;)if(Kt[--c]._value===s._value)return Kt.splice(c,1)}(t),n.resolve(r)}catch(s){n.reject(s)}finally{--jt==0&&cr(),--n.psd.ref||n.psd.finalize()}}function oa(){Ut(wt,function(){Yt()&&Zt()})}function Yt(){var e=Bt;return xt=Bt=!1,e}function Zt(){var e,t,n;do for(;0<cn.length;)for(e=cn,cn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(0<cn.length);xt=Bt=!0}function cr(){var e=Kt;Kt=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=xn.slice(0),n=t.length;n;)t[--n]()}function wn(e){return new B(It,!1,e)}function we(e,t){var n=X;return function(){var r=Yt(),i=X;try{return Et(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{Et(i,!1),r&&Zt()}}}V(B.prototype,{then:or,_then:function(e,t){ur(this,new $r(null,null,e,t,X))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,n=arguments[1];return typeof t=="function"?this.then(null,function(r){return(r instanceof t?n:wn)(r)}):this.then(null,function(r){return(r&&r.name===t?n:wn)(r)})},finally:function(e){return this.then(function(t){return B.resolve(e()).then(function(){return t})},function(t){return B.resolve(e()).then(function(){return wn(t)})})},timeout:function(e,t){var n=this;return e<1/0?new B(function(r,i){var s=setTimeout(function(){return i(new z.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(B.prototype,Symbol.toStringTag,"Dexie.Promise"),wt.env=ti(),V(B,{all:function(){var e=De.apply(null,arguments).map(Cn);return new B(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,s){return B.resolve(i).then(function(c){e[s]=c,--r||t(e)},n)})})},resolve:function(e){return e instanceof B?e:e&&typeof e.then=="function"?new B(function(t,n){e.then(t,n)}):new B(It,!0,e)},reject:wn,race:function(){var e=De.apply(null,arguments).map(Cn);return new B(function(t,n){e.map(function(r){return B.resolve(r).then(t,n)})})},PSD:{get:function(){return X},set:function(e){return X=e}},totalEchoes:{get:function(){return En}},newPSD:At,usePSD:Ut,scheduler:{get:function(){return _e},set:function(e){_e=e}},rejectionMapper:{get:function(){return ar},set:function(e){ar=e}},follow:function(e,t){return new B(function(n,r){return At(function(i,s){var c=X;c.unhandleds=[],c.onunhandled=s,c.finalize=Ee(function(){var d,m=this;d=function(){m.unhandleds.length===0?i():s(m.unhandleds[0])},xn.push(function y(){d(),xn.splice(xn.indexOf(y),1)}),++jt,_e(function(){--jt==0&&cr()},[])},c.finalize),e()},t,n,r)})}}),G&&(G.allSettled&&U(B,"allSettled",function(){var e=De.apply(null,arguments).map(Cn);return new B(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,s){return B.resolve(i).then(function(c){return r[s]={status:"fulfilled",value:c}},function(c){return r[s]={status:"rejected",reason:c}}).then(function(){return--n||t(r)})})})}),G.any&&typeof AggregateError<"u"&&U(B,"any",function(){var e=De.apply(null,arguments).map(Cn);return new B(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(s,c){return B.resolve(s).then(function(d){return t(d)},function(d){i[c]=d,--r||n(new AggregateError(i))})})})}),G.withResolvers&&(B.withResolvers=G.withResolvers));var Pe={awaits:0,echoes:0,id:0},sa=0,An=[],Sn=0,En=0,ua=0;function At(e,t,n,r){var i=X,s=Object.create(i);return s.parent=i,s.ref=0,s.global=!1,s.id=++ua,wt.env,s.env=K?{Promise:B,PromiseProp:{value:B,configurable:!0,writable:!0},all:B.all,race:B.race,allSettled:B.allSettled,any:B.any,resolve:B.resolve,reject:B.reject}:{},t&&O(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Ut(s,e,n,r),s.ref===0&&s.finalize(),r}function Jt(){return Pe.id||(Pe.id=++sa),++Pe.awaits,Pe.echoes+=_n,Pe.id}function St(){return!!Pe.awaits&&(--Pe.awaits==0&&(Pe.id=0),Pe.echoes=Pe.awaits*_n,!0)}function Cn(e){return Pe.echoes&&e&&e.constructor===G?(Jt(),e.then(function(t){return St(),t},function(t){return St(),Ce(t)})):e}function ca(){var e=An[An.length-1];An.pop(),Et(e,!1)}function Et(e,t){var n,r=X;(t?!Pe.echoes||Sn++&&e===X:!Sn||--Sn&&e===X)||queueMicrotask(t?(function(i){++En,Pe.echoes&&--Pe.echoes!=0||(Pe.echoes=Pe.awaits=Pe.id=0),An.push(X),Et(i,!0)}).bind(null,e):ca),e!==X&&(X=e,r===wt&&(wt.env=ti()),K&&(n=wt.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(p,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function ti(){var e=p.Promise;return K?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(p,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ut(e,t,n,r,i){var s=X;try{return Et(e,!0),t(n,r,i)}finally{Et(s,!1)}}function ni(e,t,n,r){return typeof e!="function"?e:function(){var i=X;n&&Jt(),Et(t,!0);try{return e.apply(this,arguments)}finally{Et(i,!1),r&&queueMicrotask(St)}}}function lr(e){Promise===G&&Pe.echoes===0?Sn===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+nt).indexOf("[native code]")===-1&&(Jt=St=L);var Ce=B.reject,Nt="",mt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ri="String expected.",$t=[],kn="__dbnames",fr="readonly",dr="readwrite";function qt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var ii={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function On(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=J(t))[e],t}}function ai(){throw z.Type()}function me(e,t){try{var n=oi(e),r=oi(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(i,s){for(var c=i.length,d=s.length,m=c<d?c:d,y=0;y<m;++y)if(i[y]!==s[y])return i[y]<s[y]?-1:1;return c===d?0:c<d?-1:1}(si(e),si(t));case"Array":return function(i,s){for(var c=i.length,d=s.length,m=c<d?c:d,y=0;y<m;++y){var _=me(i[y],s[y]);if(_!==0)return _}return c===d?0:c<d?-1:1}(e,t)}}catch{}return NaN}function oi(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=He(e),e==="ArrayBuffer"?"binary":e)}function si(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var ui=(Ie.prototype._trans=function(e,t,n){var r=this._tx||X.trans,i=this.name,s=Be&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function c(y,_,h){if(!h.schema[i])throw new z.NotFound("Table "+i+" not part of transaction");return t(h.idbtrans,h)}var d=Yt();try{var m=r&&r.db._novip===this.db._novip?r===X.trans?r._promise(e,c,n):At(function(){return r._promise(e,c,n)},{trans:r,transless:X.transless||X}):function y(_,h,x,v){if(_.idbdb&&(_._state.openComplete||X.letThrough||_._vip)){var b=_._createTransaction(h,x,_._dbSchema);try{b.create(),_._state.PR1398_maxLoop=3}catch(I){return I.name===xe.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return y(_,h,x,v)})):Ce(I)}return b._promise(h,function(I,g){return At(function(){return X.trans=b,v(I,g,b)})}).then(function(I){if(h==="readwrite")try{b.idbtrans.commit()}catch{}return h==="readonly"?I:b._completion.then(function(){return I})})}if(_._state.openComplete)return Ce(new z.DatabaseClosed(_._state.dbOpenError));if(!_._state.isBeingOpened){if(!_._state.autoOpen)return Ce(new z.DatabaseClosed);_.open().catch(L)}return _._state.dbReadyPromise.then(function(){return y(_,h,x,v)})}(this.db,e,[this.name],c);return s&&(m._consoleTask=s,m=m.catch(function(y){return console.trace(y),Ce(y)})),m}finally{d&&Zt()}},Ie.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?Ce(new z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(r){return n.core.get({trans:r,key:e}).then(function(i){return n.hook.reading.fire(i)})}).then(t)},Ie.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(k(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=A(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(d){if(d.compound&&t.every(function(y){return 0<=d.keyPath.indexOf(y)})){for(var m=0;m<t.length;++m)if(t.indexOf(d.keyPath[m])===-1)return!1;return!0}return!1}).sort(function(d,m){return d.keyPath.length-m.keyPath.length})[0];if(n&&this.db._maxKey!==Nt){var s=n.keyPath.slice(0,t.length);return this.where(s).equals(s.map(function(m){return e[m]}))}!n&&Be&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var r=this.schema.idxByName;function i(d,m){return me(d,m)===0}var c=t.reduce(function(h,m){var y=h[0],_=h[1],h=r[m],x=e[m];return[y||h,y||!h?qt(_,h&&h.multi?function(v){return v=Y(v,m),k(v)&&v.some(function(b){return i(x,b)})}:function(v){return i(x,Y(v,m))}):_]},[null,null]),s=c[0],c=c[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")},Ie.prototype.filter=function(e){return this.toCollection().and(e)},Ie.prototype.count=function(e){return this.toCollection().count(e)},Ie.prototype.offset=function(e){return this.toCollection().offset(e)},Ie.prototype.limit=function(e){return this.toCollection().limit(e)},Ie.prototype.each=function(e){return this.toCollection().each(e)},Ie.prototype.toArray=function(e){return this.toCollection().toArray(e)},Ie.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ie.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,k(e)?"[".concat(e.join("+"),"]"):e))},Ie.prototype.reverse=function(){return this.toCollection().reverse()},Ie.prototype.mapToClass=function(e){var t,n=this.db,r=this.name;function i(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof ai&&(function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function _(){this.constructor=m}a(m,y),m.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}(i,t=e),Object.defineProperty(i.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),i.prototype.table=function(){return r},e=i);for(var s=new Set,c=e.prototype;c;c=Z(c))Object.getOwnPropertyNames(c).forEach(function(m){return s.add(m)});function d(m){if(!m)return m;var y,_=Object.create(e.prototype);for(y in m)if(!s.has(y))try{_[y]=m[y]}catch{}return _}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=d,this.hook("reading",d),e},Ie.prototype.defineClass=function(){return this.mapToClass(function(e){O(this,e)})},Ie.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,s=r.keyPath,c=e;return s&&i&&(c=On(s)(e)),this._trans("readwrite",function(d){return n.core.mutate({trans:d,type:"add",keys:t!=null?[t]:null,values:[c]})}).then(function(d){return d.numFailures?B.reject(d.failures[0]):d.lastResult}).then(function(d){if(s)try{Q(e,s,d)}catch{}return d})},Ie.prototype.update=function(e,t){return typeof e!="object"||k(e)?this.where(":id").equals(e).modify(t):(e=Y(e,this.schema.primKey.keyPath),e===void 0?Ce(new z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},Ie.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,s=r.keyPath,c=e;return s&&i&&(c=On(s)(e)),this._trans("readwrite",function(d){return n.core.mutate({trans:d,type:"put",values:[c],keys:t!=null?[t]:null})}).then(function(d){return d.numFailures?B.reject(d.failures[0]):d.lastResult}).then(function(d){if(s)try{Q(e,s,d)}catch{}return d})},Ie.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})}).then(function(n){return n.numFailures?B.reject(n.failures[0]):void 0})},Ie.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:ii})}).then(function(t){return t.numFailures?B.reject(t.failures[0]):void 0})},Ie.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(r){return r.map(function(i){return t.hook.reading.fire(i)})})})},Ie.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(c){var y=r.schema.primKey,d=y.auto,y=y.keyPath;if(y&&i)throw new z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var m=e.length,y=y&&d?e.map(On(y)):e;return r.core.mutate({trans:c,type:"add",keys:i,values:y,wantResults:s}).then(function(b){var h=b.numFailures,x=b.results,v=b.lastResult,b=b.failures;if(h===0)return s?x:v;throw new Ye("".concat(r.name,".bulkAdd(): ").concat(h," of ").concat(m," operations failed"),b)})})},Ie.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(c){var y=r.schema.primKey,d=y.auto,y=y.keyPath;if(y&&i)throw new z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new z.InvalidArgument("Arguments objects and keys must have the same length");var m=e.length,y=y&&d?e.map(On(y)):e;return r.core.mutate({trans:c,type:"put",keys:i,values:y,wantResults:s}).then(function(b){var h=b.numFailures,x=b.results,v=b.lastResult,b=b.failures;if(h===0)return s?x:v;throw new Ye("".concat(r.name,".bulkPut(): ").concat(h," of ").concat(m," operations failed"),b)})})},Ie.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(c){return c.key}),i=e.map(function(c){return c.changes}),s=[];return this._trans("readwrite",function(c){return n.getMany({trans:c,keys:r,cache:"clone"}).then(function(d){var m=[],y=[];e.forEach(function(h,x){var v=h.key,b=h.changes,I=d[x];if(I){for(var g=0,w=Object.keys(b);g<w.length;g++){var S=w[g],E=b[S];if(S===t.schema.primKey.keyPath){if(me(E,v)!==0)throw new z.Constraint("Cannot update primary key in bulkUpdate()")}else Q(I,S,E)}s.push(x),m.push(v),y.push(I)}});var _=m.length;return n.mutate({trans:c,type:"put",keys:m,values:y,updates:{keys:r,changeSpecs:i}}).then(function(h){var x=h.numFailures,v=h.failures;if(x===0)return _;for(var b=0,I=Object.keys(v);b<I.length;b++){var g,w=I[b],S=s[Number(w)];S!=null&&(g=v[w],delete v[w],v[S]=g)}throw new Ye("".concat(t.name,".bulkUpdate(): ").concat(x," of ").concat(_," operations failed"),v)})})})},Ie.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:e})}).then(function(c){var i=c.numFailures,s=c.lastResult,c=c.failures;if(i===0)return s;throw new Ye("".concat(t.name,".bulkDelete(): ").concat(i," of ").concat(n," operations failed"),c)})},Ie);function Ie(){}function ln(e){function t(c,d){if(d){for(var m=arguments.length,y=new Array(m-1);--m;)y[m-1]=arguments[m];return n[c].subscribe.apply(null,y),e}if(typeof c=="string")return n[c]}var n={};t.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return t;function s(c,d,m){if(typeof c!="object"){var y;d=d||Qt;var _={subscribers:[],fire:m=m||L,subscribe:function(h){_.subscribers.indexOf(h)===-1&&(_.subscribers.push(h),_.fire=d(_.fire,h))},unsubscribe:function(h){_.subscribers=_.subscribers.filter(function(x){return x!==h}),_.fire=_.subscribers.reduce(d,m)}};return n[c]=t[c]=_}A(y=c).forEach(function(h){var x=y[h];if(k(x))s(h,y[h][0],y[h][1]);else{if(x!=="asap")throw new z.InvalidArgument("Invalid event config");var v=s(h,fe,function(){for(var b=arguments.length,I=new Array(b);b--;)I[b]=arguments[b];v.subscribers.forEach(function(g){te(function(){g.apply(null,I)})})})}})}}function fn(e,t){return ue(t).from({prototype:e}),t}function en(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function hr(e,t){e.filter=qt(e.filter,t)}function pr(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return qt(r(),t())}:t,e.justLimit=n&&!r}function Tn(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new z.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function ci(e,t,n){var r=Tn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Rn(e,t,n,r){var i=e.replayFilter?qt(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},c=function(d,m,y){var _,h;i&&!i(m,y,function(x){return m.stop(x)},function(x){return m.fail(x)})||((h=""+(_=m.primaryKey))=="[object ArrayBuffer]"&&(h=""+new Uint8Array(_)),W(s,h)||(s[h]=!0,t(d,m,y)))};return Promise.all([e.or._iterate(c,n),li(ci(e,r,n),e.algorithm,c,!e.keysOnly&&e.valueMapper)])}return li(ci(e,r,n),qt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function li(e,t,n,r){var i=we(r?function(s,c,d){return n(r(s),c,d)}:n);return e.then(function(s){if(s)return s.start(function(){var c=function(){return s.continue()};t&&!t(s,function(d){return c=d},function(d){s.stop(d),c=L},function(d){s.fail(d),c=L})||i(s.value,s,function(d){return c=d}),c()})})}var dn=(fi.prototype.execute=function(e){var t=this["@@propmod"];if(t.add!==void 0){var n=t.add;if(k(n))return f(f([],k(e)?e:[],!0),n).sort();if(typeof n=="number")return(Number(e)||0)+n;if(typeof n=="bigint")try{return BigInt(e)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(t.remove!==void 0){var r=t.remove;if(k(r))return k(e)?e.filter(function(i){return!r.includes(i)}).sort():[];if(typeof r=="number")return Number(e)-r;if(typeof r=="bigint")try{return BigInt(e)-r}catch{return BigInt(0)-r}throw new TypeError("Invalid subtrahend ".concat(r))}return n=(n=t.replacePrefix)===null||n===void 0?void 0:n[0],n&&typeof e=="string"&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},fi);function fi(e){this["@@propmod"]=e}var la=(ge.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Ce.bind(null,n.error)):n.table._trans("readonly",e).then(t)},ge.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ce.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},ge.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=qt(t.algorithm,e)},ge.prototype._iterate=function(e,t){return Rn(this._ctx,e,t,this._ctx.table.core)},ge.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&O(n,e),t._ctx=n,t},ge.prototype.raw=function(){return this._ctx.valueMapper=null,this},ge.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Rn(t,e,n,t.table.core)})},ge.prototype.count=function(e){var t=this;return this._read(function(n){var r=t._ctx,i=r.table.core;if(en(r,!0))return i.count({trans:n,query:{index:Tn(r,i.schema),range:r.range}}).then(function(c){return Math.min(c,r.limit)});var s=0;return Rn(r,function(){return++s,!1},n,i).then(function(){return s})}).then(e)},ge.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function s(m,y){return y?s(m[n[y]],y-1):m[r]}var c=this._ctx.dir==="next"?1:-1;function d(m,y){return me(s(m,i),s(y,i))*c}return this.toArray(function(m){return m.sort(d)}).then(t)},ge.prototype.toArray=function(e){var t=this;return this._read(function(n){var r=t._ctx;if(r.dir==="next"&&en(r,!0)&&0<r.limit){var i=r.valueMapper,s=Tn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(function(d){return d=d.result,i?d.map(i):d})}var c=[];return Rn(r,function(d){return c.push(d)},n,r.table.core).then(function(){return c})},e)},ge.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,en(t)?pr(t,function(){var n=e;return function(r,i){return n===0||(n===1?--n:i(function(){r.advance(n),n=0}),!1)}}):pr(t,function(){var n=e;return function(){return--n<0}})),this},ge.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),pr(this._ctx,function(){var t=e;return function(n,r,i){return--t<=0&&r(i),0<=t}},!0),this},ge.prototype.until=function(e,t){return hr(this._ctx,function(n,r,i){return!e(n.value)||(r(i),t)}),this},ge.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},ge.prototype.last=function(e){return this.reverse().first(e)},ge.prototype.filter=function(e){var t;return hr(this._ctx,function(n){return e(n.value)}),(t=this._ctx).isMatch=qt(t.isMatch,e),this},ge.prototype.and=function(e){return this.filter(e)},ge.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ge.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ge.prototype.desc=function(){return this.reverse()},ge.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.key,r)})},ge.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ge.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,r){e(r.primaryKey,r)})},ge.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,i){n.push(i.key)}).then(function(){return n}).then(e)},ge.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&en(t,!0)&&0<t.limit)return this._read(function(r){var i=Tn(t,t.table.core.schema);return t.table.core.query({trans:r,values:!1,limit:t.limit,query:{index:i,range:t.range}})}).then(function(r){return r.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(r,i){n.push(i.primaryKey)}).then(function(){return n}).then(e)},ge.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ge.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},ge.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ge.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return hr(this._ctx,function(i){var r=i.primaryKey.toString(),i=W(t,r);return t[r]=!0,!i}),this},ge.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var i,s,c;c=typeof e=="function"?e:(i=A(e),s=i.length,function(g){for(var w=!1,S=0;S<s;++S){var E=i[S],C=e[E],T=Y(g,E);C instanceof dn?(Q(g,E,C.execute(T)),w=!0):T!==C&&(Q(g,E,C),w=!0)}return w});var d=n.table.core,h=d.schema.primaryKey,m=h.outbound,y=h.extractKey,_=200,h=t.db._options.modifyChunkSize;h&&(_=typeof h=="object"?h[d.name]||h["*"]||200:h);function x(g,E){var S=E.failures,E=E.numFailures;b+=g-E;for(var C=0,T=A(S);C<T.length;C++){var M=T[C];v.push(S[M])}}var v=[],b=0,I=[];return t.clone().primaryKeys().then(function(g){function w(E){var C=Math.min(_,g.length-E);return d.getMany({trans:r,keys:g.slice(E,E+C),cache:"immutable"}).then(function(T){for(var M=[],R=[],D=m?[]:null,F=[],P=0;P<C;++P){var q=T[P],ce={value:J(q),primKey:g[E+P]};c.call(ce,ce.value,ce)!==!1&&(ce.value==null?F.push(g[E+P]):m||me(y(q),y(ce.value))===0?(R.push(ce.value),m&&D.push(g[E+P])):(F.push(g[E+P]),M.push(ce.value)))}return Promise.resolve(0<M.length&&d.mutate({trans:r,type:"add",values:M}).then(function(de){for(var he in de.failures)F.splice(parseInt(he),1);x(M.length,de)})).then(function(){return(0<R.length||S&&typeof e=="object")&&d.mutate({trans:r,type:"put",keys:D,values:R,criteria:S,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<E}).then(function(de){return x(R.length,de)})}).then(function(){return(0<F.length||S&&e===mr)&&d.mutate({trans:r,type:"delete",keys:F,criteria:S,isAdditionalChunk:0<E}).then(function(de){return x(F.length,de)})}).then(function(){return g.length>E+C&&w(E+_)})})}var S=en(n)&&n.limit===1/0&&(typeof e!="function"||e===mr)&&{index:n.index,range:n.range};return w(0).then(function(){if(0<v.length)throw new Fe("Error modifying one or more objects",v,b,I);return g.length})})})},ge.prototype.delete=function(){var e=this._ctx,t=e.range;return en(e)&&(e.isPrimKey||t.type===3)?this._write(function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then(function(s){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(function(c){var d=c.failures;if(c.lastResult,c.results,c=c.numFailures,c)throw new Fe("Could not delete some values",Object.keys(d).map(function(m){return d[m]}),s-c);return s-c})})}):this.modify(mr)},ge);function ge(){}var mr=function(e,t){return t.value=null};function fa(e,t){return e<t?-1:e===t?0:1}function da(e,t){return t<e?-1:e===t?0:1}function Ze(e,t,n){return e=e instanceof hi?new e.Collection(e):e,e._ctx.error=new(n||TypeError)(t),e}function tn(e){return new e.Collection(e,function(){return di("")}).limit(0)}function Ln(e,t,n,r){var i,s,c,d,m,y,_,h=n.length;if(!n.every(function(b){return typeof b=="string"}))return Ze(e,ri);function x(b){i=b==="next"?function(g){return g.toUpperCase()}:function(g){return g.toLowerCase()},s=b==="next"?function(g){return g.toLowerCase()}:function(g){return g.toUpperCase()},c=b==="next"?fa:da;var I=n.map(function(g){return{lower:s(g),upper:i(g)}}).sort(function(g,w){return c(g.lower,w.lower)});d=I.map(function(g){return g.upper}),m=I.map(function(g){return g.lower}),_=(y=b)==="next"?"":r}x("next"),e=new e.Collection(e,function(){return Ct(d[0],m[h-1]+r)}),e._ondirectionchange=function(b){x(b)};var v=0;return e._addAlgorithm(function(b,I,g){var w=b.key;if(typeof w!="string")return!1;var S=s(w);if(t(S,m,v))return!0;for(var E=null,C=v;C<h;++C){var T=function(M,R,D,F,P,q){for(var ce=Math.min(M.length,F.length),de=-1,he=0;he<ce;++he){var Je=R[he];if(Je!==F[he])return P(M[he],D[he])<0?M.substr(0,he)+D[he]+D.substr(he+1):P(M[he],F[he])<0?M.substr(0,he)+F[he]+D.substr(he+1):0<=de?M.substr(0,de)+R[de]+D.substr(de+1):null;P(M[he],Je)<0&&(de=he)}return ce<F.length&&q==="next"?M+D.substr(M.length):ce<M.length&&q==="prev"?M.substr(0,D.length):de<0?null:M.substr(0,de)+F[de]+D.substr(de+1)}(w,S,d[C],m[C],c,y);T===null&&E===null?v=C+1:(E===null||0<c(E,T))&&(E=T)}return I(E!==null?function(){b.continue(E+_)}:g),!1}),e}function Ct(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function di(e){return{type:1,lower:e,upper:e}}var hi=(Object.defineProperty(Me.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Me.prototype.between=function(e,t,n,r){n=n!==!1,r=r===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(n||r)&&(!n||!r)?tn(this):new this.Collection(this,function(){return Ct(e,t,!n,!r)})}catch{return Ze(this,mt)}},Me.prototype.equals=function(e){return e==null?Ze(this,mt):new this.Collection(this,function(){return di(e)})},Me.prototype.above=function(e){return e==null?Ze(this,mt):new this.Collection(this,function(){return Ct(e,void 0,!0)})},Me.prototype.aboveOrEqual=function(e){return e==null?Ze(this,mt):new this.Collection(this,function(){return Ct(e,void 0,!1)})},Me.prototype.below=function(e){return e==null?Ze(this,mt):new this.Collection(this,function(){return Ct(void 0,e,!1,!0)})},Me.prototype.belowOrEqual=function(e){return e==null?Ze(this,mt):new this.Collection(this,function(){return Ct(void 0,e)})},Me.prototype.startsWith=function(e){return typeof e!="string"?Ze(this,ri):this.between(e,e+Nt,!0,!0)},Me.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Ln(this,function(t,n){return t.indexOf(n[0])===0},[e],Nt)},Me.prototype.equalsIgnoreCase=function(e){return Ln(this,function(t,n){return t===n[0]},[e],"")},Me.prototype.anyOfIgnoreCase=function(){var e=De.apply(Le,arguments);return e.length===0?tn(this):Ln(this,function(t,n){return n.indexOf(t)!==-1},e,"")},Me.prototype.startsWithAnyOfIgnoreCase=function(){var e=De.apply(Le,arguments);return e.length===0?tn(this):Ln(this,function(t,n){return n.some(function(r){return t.indexOf(r)===0})},e,Nt)},Me.prototype.anyOf=function(){var e=this,t=De.apply(Le,arguments),n=this._cmp;try{t.sort(n)}catch{return Ze(this,mt)}if(t.length===0)return tn(this);var r=new this.Collection(this,function(){return Ct(t[0],t[t.length-1])});r._ondirectionchange=function(s){n=s==="next"?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm(function(s,c,d){for(var m=s.key;0<n(m,t[i]);)if(++i===t.length)return c(d),!1;return n(m,t[i])===0||(c(function(){s.continue(t[i])}),!1)}),r},Me.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Me.prototype.noneOf=function(){var e=De.apply(Le,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Ze(this,mt)}var t=e.reduce(function(n,r){return n?n.concat([[n[n.length-1][1],r]]):[[-1/0,r]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Me.prototype.inAnyRange=function(w,t){var n=this,r=this._cmp,i=this._ascending,s=this._descending,c=this._min,d=this._max;if(w.length===0)return tn(this);if(!w.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&i(S[0],S[1])<=0}))return Ze(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",z.InvalidArgument);var m=!t||t.includeLowers!==!1,y=t&&t.includeUppers===!0,_,h=i;function x(S,E){return h(S[0],E[0])}try{(_=w.reduce(function(S,E){for(var C=0,T=S.length;C<T;++C){var M=S[C];if(r(E[0],M[1])<0&&0<r(E[1],M[0])){M[0]=c(M[0],E[0]),M[1]=d(M[1],E[1]);break}}return C===T&&S.push(E),S},[])).sort(x)}catch{return Ze(this,mt)}var v=0,b=y?function(S){return 0<i(S,_[v][1])}:function(S){return 0<=i(S,_[v][1])},I=m?function(S){return 0<s(S,_[v][0])}:function(S){return 0<=s(S,_[v][0])},g=b,w=new this.Collection(this,function(){return Ct(_[0][0],_[_.length-1][1],!m,!y)});return w._ondirectionchange=function(S){h=S==="next"?(g=b,i):(g=I,s),_.sort(x)},w._addAlgorithm(function(S,E,C){for(var T,M=S.key;g(M);)if(++v===_.length)return E(C),!1;return!b(T=M)&&!I(T)||(n._cmp(M,_[v][1])===0||n._cmp(M,_[v][0])===0||E(function(){h===i?S.continue(_[v][0]):S.continue(_[v][1])}),!1)}),w},Me.prototype.startsWithAnyOf=function(){var e=De.apply(Le,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?tn(this):this.inAnyRange(e.map(function(t){return[t,t+Nt]})):Ze(this,"startsWithAnyOf() only works with strings")},Me);function Me(){}function lt(e){return we(function(t){return hn(t),e(t.target.error),!1})}function hn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var pn="storagemutated",vr="x-storagemutated-1",kt=ln(null,pn),ha=(ft.prototype._lock=function(){return ie(!X.global),++this._reculock,this._reculock!==1||X.global||(X.lockOwnerFor=this),this},ft.prototype._unlock=function(){if(ie(!X.global),--this._reculock==0)for(X.global||(X.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Ut(e[1],e[0])}catch{}}return this},ft.prototype._locked=function(){return this._reculock&&X.lockOwnerFor!==this},ft.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(ie(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new z.DatabaseClosed(r);case"MissingAPIError":throw new z.MissingAPI(r.message,r);default:throw new z.OpenFailed(r)}if(!this.active)throw new z.TransactionInactive;return ie(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=we(function(i){hn(i),t._reject(e.error)}),e.onabort=we(function(i){hn(i),t.active&&t._reject(new z.Abort(e.error)),t.active=!1,t.on("abort").fire(i)}),e.oncomplete=we(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&kt.storagemutated.fire(e.mutatedParts)}),this},ft.prototype._promise=function(e,t,n){var r=this;if(e==="readwrite"&&this.mode!=="readwrite")return Ce(new z.ReadOnly("Transaction is readonly"));if(!this.active)return Ce(new z.TransactionInactive);if(this._locked())return new B(function(s,c){r._blockedFuncs.push([function(){r._promise(e,t,n).then(s,c)},X])});if(n)return At(function(){var s=new B(function(c,d){r._lock();var m=t(c,d,r);m&&m.then&&m.then(c,d)});return s.finally(function(){return r._unlock()}),s._lib=!0,s});var i=new B(function(s,c){var d=t(s,c,r);d&&d.then&&d.then(s,c)});return i._lib=!0,i},ft.prototype._root=function(){return this.parent?this.parent._root():this},ft.prototype.waitFor=function(e){var t,n=this._root(),r=B.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=s)}());var i=n._waitingFor;return new B(function(s,c){r.then(function(d){return n._waitingQueue.push(we(s.bind(null,d)))},function(d){return n._waitingQueue.push(we(c.bind(null,d)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},ft.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new z.Abort))},ft.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(W(t,e))return t[e];var n=this.schema[e];if(!n)throw new z.NotFound("Table "+e+" not part of transaction");return n=new this.db.Table(e,n,this),n.core=this.db.core.table(e),t[e]=n},ft);function ft(){}function yr(e,t,n,r,i,s,c){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!c?"&":"")+(r?"*":"")+(i?"++":"")+pi(t)}}function pi(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function gr(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(i){return[i.name,i]},n.reduce(function(i,s,c){return c=r(s,c),c&&(i[c[0]]=c[1]),i},{}))};var r}var mn=function(e){try{return e.only([[]]),mn=function(){return[[]]},[[]]}catch{return mn=function(){return Nt},Nt}};function br(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(n){return n[t]}:function(n){return Y(n,t)}:function(n){return Y(n,e)};var t}function mi(e){return[].slice.call(e)}var pa=0;function vn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function ma(e,t,m){function r(g){if(g.type===3)return null;if(g.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var v=g.lower,b=g.upper,I=g.lowerOpen,g=g.upperOpen;return v===void 0?b===void 0?null:t.upperBound(b,!!g):b===void 0?t.lowerBound(v,!!I):t.bound(v,b,!!I,!!g)}function i(x){var v,b=x.name;return{name:b,schema:x,mutate:function(I){var g=I.trans,w=I.type,S=I.keys,E=I.values,C=I.range;return new Promise(function(T,M){T=we(T);var R=g.objectStore(b),D=R.keyPath==null,F=w==="put"||w==="add";if(!F&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);var P,q=(S||E||{length:1}).length;if(S&&E&&S.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(q===0)return T({numFailures:0,failures:{},results:[],lastResult:void 0});function ce(Ge){++Je,hn(Ge)}var de=[],he=[],Je=0;if(w==="deleteRange"){if(C.type===4)return T({numFailures:Je,failures:he,results:[],lastResult:void 0});C.type===3?de.push(P=R.clear()):de.push(P=R.delete(r(C)))}else{var D=F?D?[E,S]:[E,null]:[S,null],se=D[0],je=D[1];if(F)for(var Ue=0;Ue<q;++Ue)de.push(P=je&&je[Ue]!==void 0?R[w](se[Ue],je[Ue]):R[w](se[Ue])),P.onerror=ce;else for(Ue=0;Ue<q;++Ue)de.push(P=R[w](se[Ue])),P.onerror=ce}function Gn(Ge){Ge=Ge.target.result,de.forEach(function(Gt,Br){return Gt.error!=null&&(he[Br]=Gt.error)}),T({numFailures:Je,failures:he,results:w==="delete"?S:de.map(function(Gt){return Gt.result}),lastResult:Ge})}P.onerror=function(Ge){ce(Ge),Gn(Ge)},P.onsuccess=Gn})},getMany:function(I){var g=I.trans,w=I.keys;return new Promise(function(S,E){S=we(S);for(var C,T=g.objectStore(b),M=w.length,R=new Array(M),D=0,F=0,P=function(de){de=de.target,R[de._pos]=de.result,++F===D&&S(R)},q=lt(E),ce=0;ce<M;++ce)w[ce]!=null&&((C=T.get(w[ce]))._pos=ce,C.onsuccess=P,C.onerror=q,++D);D===0&&S(R)})},get:function(I){var g=I.trans,w=I.key;return new Promise(function(S,E){S=we(S);var C=g.objectStore(b).get(w);C.onsuccess=function(T){return S(T.target.result)},C.onerror=lt(E)})},query:(v=y,function(I){return new Promise(function(g,w){g=we(g);var S,E,C,D=I.trans,T=I.values,M=I.limit,P=I.query,R=M===1/0?void 0:M,F=P.index,P=P.range,D=D.objectStore(b),F=F.isPrimaryKey?D:D.index(F.name),P=r(P);if(M===0)return g({result:[]});v?((R=T?F.getAll(P,R):F.getAllKeys(P,R)).onsuccess=function(q){return g({result:q.target.result})},R.onerror=lt(w)):(S=0,E=!T&&"openKeyCursor"in F?F.openKeyCursor(P):F.openCursor(P),C=[],E.onsuccess=function(q){var ce=E.result;return ce?(C.push(T?ce.value:ce.primaryKey),++S===M?g({result:C}):void ce.continue()):g({result:C})},E.onerror=lt(w))})}),openCursor:function(I){var g=I.trans,w=I.values,S=I.query,E=I.reverse,C=I.unique;return new Promise(function(T,M){T=we(T);var F=S.index,R=S.range,D=g.objectStore(b),D=F.isPrimaryKey?D:D.index(F.name),F=E?C?"prevunique":"prev":C?"nextunique":"next",P=!w&&"openKeyCursor"in D?D.openKeyCursor(r(R),F):D.openCursor(r(R),F);P.onerror=lt(M),P.onsuccess=we(function(q){var ce,de,he,Je,se=P.result;se?(se.___id=++pa,se.done=!1,ce=se.continue.bind(se),de=(de=se.continuePrimaryKey)&&de.bind(se),he=se.advance.bind(se),Je=function(){throw new Error("Cursor not stopped")},se.trans=g,se.stop=se.continue=se.continuePrimaryKey=se.advance=function(){throw new Error("Cursor not started")},se.fail=we(M),se.next=function(){var je=this,Ue=1;return this.start(function(){return Ue--?je.continue():je.stop()}).then(function(){return je})},se.start=function(je){function Ue(){if(P.result)try{je()}catch(Ge){se.fail(Ge)}else se.done=!0,se.start=function(){throw new Error("Cursor behind last entry")},se.stop()}var Gn=new Promise(function(Ge,Gt){Ge=we(Ge),P.onerror=lt(Gt),se.fail=Gt,se.stop=function(Br){se.stop=se.continue=se.continuePrimaryKey=se.advance=Je,Ge(Br)}});return P.onsuccess=we(function(Ge){P.onsuccess=Ue,Ue()}),se.continue=ce,se.continuePrimaryKey=de,se.advance=he,Ue(),Gn},T(se)):T(null)},M)})},count:function(I){var g=I.query,w=I.trans,S=g.index,E=g.range;return new Promise(function(C,T){var M=w.objectStore(b),R=S.isPrimaryKey?M:M.index(S.name),M=r(E),R=M?R.count(M):R.count();R.onsuccess=we(function(D){return C(D.target.result)}),R.onerror=lt(T)})}}}var s,c,d,_=(c=m,d=mi((s=e).objectStoreNames),{schema:{name:s.name,tables:d.map(function(x){return c.objectStore(x)}).map(function(x){var v=x.keyPath,g=x.autoIncrement,b=k(v),I={},g={name:x.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v==null,compound:b,keyPath:v,autoIncrement:g,unique:!0,extractKey:br(v)},indexes:mi(x.indexNames).map(function(w){return x.index(w)}).map(function(C){var S=C.name,E=C.unique,T=C.multiEntry,C=C.keyPath,T={name:S,compound:k(C),keyPath:C,unique:E,multiEntry:T,extractKey:br(C)};return I[vn(C)]=T}),getIndexByKeyPath:function(w){return I[vn(w)]}};return I[":id"]=g.primaryKey,v!=null&&(I[vn(v)]=g.primaryKey),g})},hasGetAll:0<d.length&&"getAll"in c.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),m=_.schema,y=_.hasGetAll,_=m.tables.map(i),h={};return _.forEach(function(x){return h[x.name]=x}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(x){if(!h[x])throw new Error("Table '".concat(x,"' not found"));return h[x]},MIN_KEY:-1/0,MAX_KEY:mn(t),schema:m}}function va(e,t,n,r){var i=n.IDBKeyRange;return n.indexedDB,{dbcore:(r=ma(t,i,r),e.dbcore.reduce(function(s,c){return c=c.create,u(u({},s),c(s))},r))}}function Dn(e,r){var n=r.db,r=va(e._middlewares,n,e._deps,r);e.core=r.dbcore,e.tables.forEach(function(i){var s=i.name;e.core.schema.tables.some(function(c){return c.name===s})&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function Pn(e,t,n,r){n.forEach(function(i){var s=r[i];t.forEach(function(c){var d=function m(y,_){return re(y,_)||(y=Z(y))&&m(y,_)}(c,i);(!d||"value"in d&&d.value===void 0)&&(c===e.Transaction.prototype||c instanceof e.Transaction?U(c,i,{get:function(){return this.table(i)},set:function(m){ne(this,i,{value:m,writable:!0,configurable:!0,enumerable:!0})}}):c[i]=new e.Table(i,s))})})}function _r(e,t){t.forEach(function(n){for(var r in n)n[r]instanceof e.Table&&delete n[r]})}function ya(e,t){return e._cfg.version-t._cfg.version}function ga(e,t,n,r){var i=e._dbSchema;n.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=gr("$meta",yi("")[0],[]),e._storeNames.push("$meta"));var s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);var c=s._reject.bind(s),d=X.transless||X;At(function(){return X.trans=s,X.transless=d,t!==0?(Dn(e,n),y=t,((m=s).storeNames.includes("$meta")?m.table("$meta").get("version").then(function(_){return _??y}):B.resolve(y)).then(function(_){return x=_,v=s,b=n,I=[],_=(h=e)._versions,g=h._dbSchema=Fn(0,h.idbdb,b),(_=_.filter(function(w){return w._cfg.version>=x})).length!==0?(_.forEach(function(w){I.push(function(){var S=g,E=w._cfg.dbschema;Bn(h,S,b),Bn(h,E,b),g=h._dbSchema=E;var C=Ir(S,E);C.add.forEach(function(F){xr(b,F[0],F[1].primKey,F[1].indexes)}),C.change.forEach(function(F){if(F.recreate)throw new z.Upgrade("Not yet support for changing primary key");var P=b.objectStore(F.name);F.add.forEach(function(q){return Mn(P,q)}),F.change.forEach(function(q){P.deleteIndex(q.name),Mn(P,q)}),F.del.forEach(function(q){return P.deleteIndex(q)})});var T=w._cfg.contentUpgrade;if(T&&w._cfg.version>x){Dn(h,b),v._memoizedTables={};var M=oe(E);C.del.forEach(function(F){M[F]=S[F]}),_r(h,[h.Transaction.prototype]),Pn(h,[h.Transaction.prototype],A(M),M),v.schema=M;var R,D=st(T);return D&&Jt(),C=B.follow(function(){var F;(R=T(v))&&D&&(F=St.bind(null,null),R.then(F,F))}),R&&typeof R.then=="function"?B.resolve(R):C.then(function(){return R})}}),I.push(function(S){var E,C,T=w._cfg.dbschema;E=T,C=S,[].slice.call(C.db.objectStoreNames).forEach(function(M){return E[M]==null&&C.db.deleteObjectStore(M)}),_r(h,[h.Transaction.prototype]),Pn(h,[h.Transaction.prototype],h._storeNames,h._dbSchema),v.schema=h._dbSchema}),I.push(function(S){h.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(h.idbdb.version/10)===w._cfg.version?(h.idbdb.deleteObjectStore("$meta"),delete h._dbSchema.$meta,h._storeNames=h._storeNames.filter(function(E){return E!=="$meta"})):S.objectStore("$meta").put(w._cfg.version,"version"))})}),function w(){return I.length?B.resolve(I.shift()(v.idbtrans)).then(w):B.resolve()}().then(function(){vi(g,b)})):B.resolve();var h,x,v,b,I,g}).catch(c)):(A(i).forEach(function(_){xr(n,_,i[_].primKey,i[_].indexes)}),Dn(e,n),void B.follow(function(){return e.on.populate.fire(s)}).catch(c));var m,y})}function ba(e,t){vi(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=Fn(0,e.idbdb,t);Bn(e,e._dbSchema,t);for(var r=0,i=Ir(n,e._dbSchema).change;r<i.length;r++){var s=function(c){if(c.change.length||c.recreate)return console.warn("Unable to patch indexes of table ".concat(c.name," because it has changes on the type of index or primary key.")),{value:void 0};var d=t.objectStore(c.name);c.add.forEach(function(m){Be&&console.debug("Dexie upgrade patch: Creating missing index ".concat(c.name,".").concat(m.src)),Mn(d,m)})}(i[r]);if(typeof s=="object")return s.value}}function Ir(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],s=t[n];if(i){var c={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto)c.recreate=!0,r.change.push(c);else{var d=i.idxByName,m=s.idxByName,y=void 0;for(y in d)m[y]||c.del.push(y);for(y in m){var _=d[y],h=m[y];_?_.src!==h.src&&c.change.push(h):c.add.push(h)}(0<c.del.length||0<c.add.length||0<c.change.length)&&r.change.push(c)}}else r.add.push([n,s])}return r}function xr(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(s){return Mn(i,s)}),i}function vi(e,t){A(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(Be&&console.debug("Dexie: Creating missing table",n),xr(t,n,e[n].primKey,e[n].indexes))})}function Mn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Fn(e,t,n){var r={};return N(t.objectStoreNames,0).forEach(function(i){for(var s=n.objectStore(i),c=yr(pi(y=s.keyPath),y||"",!0,!1,!!s.autoIncrement,y&&typeof y!="string",!0),d=[],m=0;m<s.indexNames.length;++m){var _=s.index(s.indexNames[m]),y=_.keyPath,_=yr(_.name,y,!!_.unique,!!_.multiEntry,!1,y&&typeof y!="string",!1);d.push(_)}r[i]=gr(i,c,d)}),r}function Bn(e,t,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var s=r[i],c=n.objectStore(s);e._hasGetAll="getAll"in c;for(var d=0;d<c.indexNames.length;++d){var m=c.indexNames[d],y=c.index(m).keyPath,_=typeof y=="string"?y:"["+N(y).join("+")+"]";!t[s]||(y=t[s].idxByName[_])&&(y.name=m,delete t[s].idxByName[_],t[s].idxByName[m]=y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&p.WorkerGlobalScope&&p instanceof p.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function yi(e){return e.split(",").map(function(t,n){var r=(t=t.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return yr(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),k(i),n===0)})}var _a=(Kn.prototype._parseStoresSpec=function(e,t){A(e).forEach(function(n){if(e[n]!==null){var r=yi(e[n]),i=r.shift();if(i.unique=!0,i.multi)throw new z.Schema("Primary key cannot be multi-valued");r.forEach(function(s){if(s.auto)throw new z.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new z.Schema("Index must have a name and cannot be an empty string")}),t[n]=gr(n,i,r)}})},Kn.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?O(this._cfg.storesSource,n):n;var n=t._versions,r={},i={};return n.forEach(function(s){O(r,s._cfg.storesSource),i=s._cfg.dbschema={},s._parseStoresSpec(r,i)}),t._dbSchema=i,_r(t,[t._allTables,t,t.Transaction.prototype]),Pn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],A(i),i),t._storeNames=A(i),this},Kn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=pt(this._cfg.contentUpgrade||L,e),this},Kn);function Kn(){}function wr(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new vt(kn,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Ar(e){return e&&typeof e.databases=="function"}function Sr(e){return At(function(){return X.letThrough=!0,e()})}function Er(e){return!("from"in e)}var Ke=function(e,t){if(!this){var n=new Ke;return e&&"d"in e&&O(n,e),n}O(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function yn(e,t,n){var r=me(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(Er(e))return O(e,{from:t,to:n,d:1});var i=e.l,r=e.r;if(me(n,e.from)<0)return i?yn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},bi(e);if(0<me(t,e.to))return r?yn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},bi(e);me(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<me(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&gn(e,i),r&&n&&gn(e,r)}}function gn(e,t){Er(t)||function n(r,m){var s=m.from,c=m.to,d=m.l,m=m.r;yn(r,s,c),d&&n(r,d),m&&n(r,m)}(e,t)}function gi(e,t){var n=jn(t),r=n.next();if(r.done)return!1;for(var i=r.value,s=jn(e),c=s.next(i.from),d=c.value;!r.done&&!c.done;){if(me(d.from,i.to)<=0&&0<=me(d.to,i.from))return!0;me(i.from,d.from)<0?i=(r=n.next(d.from)).value:d=(c=s.next(i.from)).value}return!1}function jn(e){var t=Er(e)?null:{s:0,n:e};return{next:function(n){for(var r=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&me(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||me(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function bi(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=1<r?"r":r<-1?"l":"";i&&(t=i=="r"?"l":"r",n=u({},e),r=e[i],e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],(e[t]=n).d=_i(n)),e.d=_i(e)}function _i(n){var t=n.r,n=n.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function Un(e,t){return A(t).forEach(function(n){e[n]?gn(e[n],t[n]):e[n]=function r(i){var s,c,d={};for(s in i)W(i,s)&&(c=i[s],d[s]=!c||typeof c!="object"||at.has(c.constructor)?c:r(c));return d}(t[n])}),e}function Cr(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&gi(t[n],e[n])})}V(Ke.prototype,((nt={add:function(e){return gn(this,e),this},addKey:function(e){return yn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return yn(t,n,n)}),this},hasKey:function(e){var t=jn(this).next(e).value;return t&&me(t.from,e)<=0&&0<=me(t.to,e)}})[tt]=function(){return jn(this)},nt));var Ht={},kr={},Or=!1;function Nn(e){Un(kr,e),Or||(Or=!0,setTimeout(function(){Or=!1,Tr(kr,!(kr={}))},0))}function Tr(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(Ht);r<i.length;r++)Ii(c=i[r],e,n,t);else for(var s in e){var c,d=/^idb\:\/\/(.*)\/(.*)\//.exec(s);d&&(s=d[1],d=d[2],(c=Ht["idb://".concat(s,"/").concat(d)])&&Ii(c,e,n,t))}n.forEach(function(m){return m()})}function Ii(e,t,n,r){for(var i=[],s=0,c=Object.entries(e.queries.query);s<c.length;s++){for(var d=c[s],m=d[0],y=[],_=0,h=d[1];_<h.length;_++){var x=h[_];Cr(t,x.obsSet)?x.subscribers.forEach(function(g){return n.add(g)}):r&&y.push(x)}r&&i.push([m,y])}if(r)for(var v=0,b=i;v<b.length;v++){var I=b[v],m=I[0],y=I[1];e.queries.query[m]=y}}function Ia(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Ce(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,i=Math.round(10*e.verno),s=!1;function c(){if(t.openCanceller!==r)throw new z.DatabaseClosed("db.open() was cancelled")}function d(){return new B(function(x,v){if(c(),!n)throw new z.MissingAPI;var b=e.name,I=t.autoSchema||!i?n.open(b):n.open(b,i);if(!I)throw new z.MissingAPI;I.onerror=lt(v),I.onblocked=we(e._fireOnBlocked),I.onupgradeneeded=we(function(g){var w;_=I.transaction,t.autoSchema&&!e._options.allowEmptyDB?(I.onerror=hn,_.abort(),I.result.close(),(w=n.deleteDatabase(b)).onsuccess=w.onerror=we(function(){v(new z.NoSuchDatabase("Database ".concat(b," doesnt exist")))})):(_.onerror=lt(v),g=g.oldVersion>Math.pow(2,62)?0:g.oldVersion,h=g<1,e.idbdb=I.result,s&&ba(e,_),ga(e,g/10,_,v))},v),I.onsuccess=we(function(){_=null;var g,w,S,E,C,T=e.idbdb=I.result,M=N(T.objectStoreNames);if(0<M.length)try{var R=T.transaction((E=M).length===1?E[0]:E,"readonly");if(t.autoSchema)w=T,S=R,(g=e).verno=w.version/10,S=g._dbSchema=Fn(0,w,S),g._storeNames=N(w.objectStoreNames,0),Pn(g,[g._allTables],A(S),S);else if(Bn(e,e._dbSchema,R),((C=Ir(Fn(0,(C=e).idbdb,R),C._dbSchema)).add.length||C.change.some(function(D){return D.add.length||D.change.length}))&&!s)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),T.close(),i=T.version+1,s=!0,x(d());Dn(e,R)}catch{}$t.push(e),T.onversionchange=we(function(D){t.vcFired=!0,e.on("versionchange").fire(D)}),T.onclose=we(function(D){e.on("close").fire(D)}),h&&(C=e._deps,R=b,T=C.indexedDB,C=C.IDBKeyRange,Ar(T)||R===kn||wr(T,C).put({name:R}).catch(L)),x()},v)}).catch(function(x){switch(x==null?void 0:x.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),d();break;case"VersionError":if(0<i)return i=0,d()}return B.reject(x)})}var m,y=t.dbReadyResolve,_=null,h=!1;return B.race([r,(typeof navigator>"u"?B.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(x){function v(){return indexedDB.databases().finally(x)}m=setInterval(v,100),v()}).finally(function(){return clearInterval(m)}):Promise.resolve()).then(d)]).then(function(){return c(),t.onReadyBeingFired=[],B.resolve(Sr(function(){return e.on.ready.fire(e.vip)})).then(function x(){if(0<t.onReadyBeingFired.length){var v=t.onReadyBeingFired.reduce(pt,L);return t.onReadyBeingFired=[],B.resolve(Sr(function(){return v(e.vip)})).then(x)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(x){t.dbOpenError=x;try{_&&_.abort()}catch{}return r===t.openCanceller&&e._close(),Ce(x)}).finally(function(){t.openComplete=!0,y()}).then(function(){var x;return h&&(x={},e.tables.forEach(function(v){v.schema.indexes.forEach(function(b){b.name&&(x["idb://".concat(e.name,"/").concat(v.name,"/").concat(b.name)]=new Ke(-1/0,[[[]]]))}),x["idb://".concat(e.name,"/").concat(v.name,"/")]=x["idb://".concat(e.name,"/").concat(v.name,"/:dels")]=new Ke(-1/0,[[[]]])}),kt(pn).fire(x),Tr(x,!0)),e})}function Rr(e){function t(s){return e.next(s)}var n=i(t),r=i(function(s){return e.throw(s)});function i(s){return function(m){var d=s(m),m=d.value;return d.done?m:m&&typeof m.then=="function"?m.then(n,r):k(m)?Promise.all(m).then(n,r):n(m)}}return i(t)()}function qn(e,t,n){for(var r=k(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var xa={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return u(u({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},s=[];function c(h,x,v){var b=vn(h),I=i[b]=i[b]||[],g=h==null?0:typeof h=="string"?1:h.length,w=0<x,w=u(u({},v),{name:w?"".concat(b,"(virtual-from:").concat(v.name,")"):v.name,lowLevelIndex:v,isVirtual:w,keyTail:x,keyLength:g,extractKey:br(h),unique:!w&&v.unique});return I.push(w),w.isPrimaryKey||s.push(w),1<g&&c(g===2?h[0]:h.slice(0,g-1),x+1,v),I.sort(function(S,E){return S.keyTail-E.keyTail}),w}t=c(r.primaryKey.keyPath,0,r.primaryKey),i[":id"]=[t];for(var d=0,m=r.indexes;d<m.length;d++){var y=m[d];c(y.keyPath,0,y)}function _(h){var x,v=h.query.index;return v.isVirtual?u(u({},h),{query:{index:v.lowLevelIndex,range:(x=h.query.range,v=v.keyTail,{type:x.type===1?2:x.type,lower:qn(x.lower,x.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:qn(x.upper,x.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0})}}):h}return u(u({},n),{schema:u(u({},r),{primaryKey:t,indexes:s,getIndexByKeyPath:function(h){return(h=i[vn(h)])&&h[0]}}),count:function(h){return n.count(_(h))},query:function(h){return n.query(_(h))},openCursor:function(h){var x=h.query.index,v=x.keyTail,b=x.isVirtual,I=x.keyLength;return b?n.openCursor(_(h)).then(function(w){return w&&g(w)}):n.openCursor(h);function g(w){return Object.create(w,{continue:{value:function(S){S!=null?w.continue(qn(S,h.reverse?e.MAX_KEY:e.MIN_KEY,v)):h.unique?w.continue(w.key.slice(0,I).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,v)):w.continue()}},continuePrimaryKey:{value:function(S,E){w.continuePrimaryKey(qn(S,e.MAX_KEY,v),E)}},primaryKey:{get:function(){return w.primaryKey}},key:{get:function(){var S=w.key;return I===1?S[0]:S.slice(0,I)}},value:{get:function(){return w.value}}})}}})}})}};function Lr(e,t,n,r){return n=n||{},r=r||"",A(e).forEach(function(i){var s,c,d;W(t,i)?(s=e[i],c=t[i],typeof s=="object"&&typeof c=="object"&&s&&c?(d=He(s))!==He(c)?n[r+i]=t[i]:d==="Object"?Lr(s,c,n,r+i+"."):s!==c&&(n[r+i]=t[i]):s!==c&&(n[r+i]=t[i])):n[r+i]=void 0}),A(t).forEach(function(i){W(e,i)||(n[r+i]=t[i])}),n}function Dr(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var wa={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return u(u({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return u(u({},n),{mutate:function(i){var s=X.trans,c=s.table(t).hook,d=c.deleting,m=c.creating,y=c.updating;switch(i.type){case"add":if(m.fire===L)break;return s._promise("readwrite",function(){return _(i)},!0);case"put":if(m.fire===L&&y.fire===L)break;return s._promise("readwrite",function(){return _(i)},!0);case"delete":if(d.fire===L)break;return s._promise("readwrite",function(){return _(i)},!0);case"deleteRange":if(d.fire===L)break;return s._promise("readwrite",function(){return function h(x,v,b){return n.query({trans:x,values:!1,query:{index:r,range:v},limit:b}).then(function(I){var g=I.result;return _({type:"delete",keys:g,trans:x}).then(function(w){return 0<w.numFailures?Promise.reject(w.failures[0]):g.length<b?{failures:[],numFailures:0,lastResult:void 0}:h(x,u(u({},v),{lower:g[g.length-1],lowerOpen:!0}),b)})})}(i.trans,i.range,1e4)},!0)}return n.mutate(i);function _(h){var x,v,b,I=X.trans,g=h.keys||Dr(r,h);if(!g)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?u(u({},h),{keys:g}):u({},h)).type!=="delete"&&(h.values=f([],h.values)),h.keys&&(h.keys=f([],h.keys)),x=n,b=g,((v=h).type==="add"?Promise.resolve([]):x.getMany({trans:v.trans,keys:b,cache:"immutable"})).then(function(w){var S=g.map(function(E,C){var T,M,R,D=w[C],F={onerror:null,onsuccess:null};return h.type==="delete"?d.fire.call(F,E,D,I):h.type==="add"||D===void 0?(T=m.fire.call(F,E,h.values[C],I),E==null&&T!=null&&(h.keys[C]=E=T,r.outbound||Q(h.values[C],r.keyPath,E))):(T=Lr(D,h.values[C]),(M=y.fire.call(F,T,E,D,I))&&(R=h.values[C],Object.keys(M).forEach(function(P){W(R,P)?R[P]=M[P]:Q(R,P,M[P])}))),F});return n.mutate(h).then(function(E){for(var C=E.failures,T=E.results,M=E.numFailures,E=E.lastResult,R=0;R<g.length;++R){var D=(T||g)[R],F=S[R];D==null?F.onerror&&F.onerror(C[R]):F.onsuccess&&F.onsuccess(h.type==="put"&&w[R]?h.values[R]:D)}return{failures:C,results:T,numFailures:M,lastResult:E}}).catch(function(E){return S.forEach(function(C){return C.onerror&&C.onerror(E)}),Promise.reject(E)})})}}})}})}};function xi(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,s=0;i<t.keys.length&&s<e.length;++i)me(t.keys[i],e[s])===0&&(r.push(n?J(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}var Aa={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return u(u({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=xi(r.keys,r.trans._cache,r.cache==="clone");return i?B.resolve(i):n.getMany(r).then(function(s){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?J(s):s},s})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}};function wi(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function Ai(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Sa={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new Ke(e.MIN_KEY,e.MAX_KEY);return u(u({},e),{transaction:function(r,i,s){if(X.subscr&&i!=="readonly")throw new z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(X.querier));return e.transaction(r,i,s)},table:function(r){var i=e.table(r),s=i.schema,c=s.primaryKey,h=s.indexes,d=c.extractKey,m=c.outbound,y=c.autoIncrement&&h.filter(function(v){return v.compound&&v.keyPath.includes(c.keyPath)}),_=u(u({},i),{mutate:function(v){function b(P){return P="idb://".concat(t,"/").concat(r,"/").concat(P),E[P]||(E[P]=new Ke)}var I,g,w,S=v.trans,E=v.mutatedParts||(v.mutatedParts={}),C=b(""),T=b(":dels"),M=v.type,F=v.type==="deleteRange"?[v.range]:v.type==="delete"?[v.keys]:v.values.length<50?[Dr(c,v).filter(function(P){return P}),v.values]:[],R=F[0],D=F[1],F=v.trans._cache;return k(R)?(C.addKeys(R),(F=M==="delete"||R.length===D.length?xi(R,F):null)||T.addKeys(R),(F||D)&&(I=b,g=F,w=D,s.indexes.forEach(function(P){var q=I(P.name||"");function ce(he){return he!=null?P.extractKey(he):null}function de(he){return P.multiEntry&&k(he)?he.forEach(function(Je){return q.addKey(Je)}):q.addKey(he)}(g||w).forEach(function(he,je){var se=g&&ce(g[je]),je=w&&ce(w[je]);me(se,je)!==0&&(se!=null&&de(se),je!=null&&de(je))})}))):R?(D={from:(D=R.lower)!==null&&D!==void 0?D:e.MIN_KEY,to:(D=R.upper)!==null&&D!==void 0?D:e.MAX_KEY},T.add(D),C.add(D)):(C.add(n),T.add(n),s.indexes.forEach(function(P){return b(P.name).add(n)})),i.mutate(v).then(function(P){return!R||v.type!=="add"&&v.type!=="put"||(C.addKeys(P.results),y&&y.forEach(function(q){for(var ce=v.values.map(function(se){return q.extractKey(se)}),de=q.keyPath.findIndex(function(se){return se===c.keyPath}),he=0,Je=P.results.length;he<Je;++he)ce[he][de]=P.results[he];b(q.name).addKeys(ce)})),S.mutatedParts=Un(S.mutatedParts||{},E),P})}}),h=function(b){var I=b.query,b=I.index,I=I.range;return[b,new Ke((b=I.lower)!==null&&b!==void 0?b:e.MIN_KEY,(I=I.upper)!==null&&I!==void 0?I:e.MAX_KEY)]},x={get:function(v){return[c,new Ke(v.key)]},getMany:function(v){return[c,new Ke().addKeys(v.keys)]},count:h,query:h,openCursor:h};return A(x).forEach(function(v){_[v]=function(b){var I=X.subscr,g=!!I,w=wi(X,i)&&Ai(v,b)?b.obsSet={}:I;if(g){var S=function(D){return D="idb://".concat(t,"/").concat(r,"/").concat(D),w[D]||(w[D]=new Ke)},E=S(""),C=S(":dels"),I=x[v](b),g=I[0],I=I[1];if((v==="query"&&g.isPrimaryKey&&!b.values?C:S(g.name||"")).add(I),!g.isPrimaryKey){if(v!=="count"){var T=v==="query"&&m&&b.values&&i.query(u(u({},b),{values:!1}));return i[v].apply(this,arguments).then(function(D){if(v==="query"){if(m&&b.values)return T.then(function(ce){return ce=ce.result,E.addKeys(ce),D});var F=b.values?D.result.map(d):D.result;(b.values?E:C).addKeys(F)}else if(v==="openCursor"){var P=D,q=b.values;return P&&Object.create(P,{key:{get:function(){return C.addKey(P.primaryKey),P.key}},primaryKey:{get:function(){var ce=P.primaryKey;return C.addKey(ce),ce}},value:{get:function(){return q&&E.addKey(P.primaryKey),P.value}}})}return D})}C.add(n)}}return i[v].apply(this,arguments)}}),_}})}};function Si(e,t,n){if(n.numFailures===0)return t;if(t.type==="deleteRange")return null;var r=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return n.numFailures===r?null:(t=u({},t),k(t.keys)&&(t.keys=t.keys.filter(function(i,s){return!(s in n.failures)})),"values"in t&&k(t.values)&&(t.values=t.values.filter(function(i,s){return!(s in n.failures)})),t)}function Pr(e,t){return n=e,((r=t).lower===void 0||(r.lowerOpen?0<me(n,r.lower):0<=me(n,r.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?me(e,t.upper)<0:me(e,t.upper)<=0));var n,r}function Ei(e,t,x,r,i,s){if(!x||x.length===0)return e;var c=t.query.index,d=c.multiEntry,m=t.query.range,y=r.schema.primaryKey.extractKey,_=c.extractKey,h=(c.lowLevelIndex||c).extractKey,x=x.reduce(function(v,b){var I=v,g=[];if(b.type==="add"||b.type==="put")for(var w=new Ke,S=b.values.length-1;0<=S;--S){var E,C=b.values[S],T=y(C);w.hasKey(T)||(E=_(C),(d&&k(E)?E.some(function(P){return Pr(P,m)}):Pr(E,m))&&(w.addKey(T),g.push(C)))}switch(b.type){case"add":var M=new Ke().addKeys(t.values?v.map(function(q){return y(q)}):v),I=v.concat(t.values?g.filter(function(q){return q=y(q),!M.hasKey(q)&&(M.addKey(q),!0)}):g.map(function(q){return y(q)}).filter(function(q){return!M.hasKey(q)&&(M.addKey(q),!0)}));break;case"put":var R=new Ke().addKeys(b.values.map(function(q){return y(q)}));I=v.filter(function(q){return!R.hasKey(t.values?y(q):q)}).concat(t.values?g:g.map(function(q){return y(q)}));break;case"delete":var D=new Ke().addKeys(b.keys);I=v.filter(function(q){return!D.hasKey(t.values?y(q):q)});break;case"deleteRange":var F=b.range;I=v.filter(function(q){return!Pr(y(q),F)})}return I},e);return x===e?e:(x.sort(function(v,b){return me(h(v),h(b))||me(y(v),y(b))}),t.limit&&t.limit<1/0&&(x.length>t.limit?x.length=t.limit:e.length===t.limit&&x.length<t.limit&&(i.dirty=!0)),s?Object.freeze(x):x)}function Ci(e,t){return me(e.lower,t.lower)===0&&me(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Ea(e,t){return function(n,r,i,s){if(n===void 0)return r!==void 0?-1:0;if(r===void 0)return 1;if((r=me(n,r))===0){if(i&&s)return 0;if(i)return 1;if(s)return-1}return r}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(n,r,i,s){if(n===void 0)return r!==void 0?1:0;if(r===void 0)return-1;if((r=me(n,r))===0){if(i&&s)return 0;if(i)return-1;if(s)return 1}return r}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Ca(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var i,s;e.subscribers.delete(n),e.subscribers.size===0&&(i=e,s=t,setTimeout(function(){i.subscribers.size===0&&Se(s,i)},3e3))})}var ka={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return u(u({},e),{transaction:function(n,r,i){var s,c,d=e.transaction(n,r,i);return r==="readwrite"&&(c=(s=new AbortController).signal,i=function(m){return function(){if(s.abort(),r==="readwrite"){for(var y=new Set,_=0,h=n;_<h.length;_++){var x=h[_],v=Ht["idb://".concat(t,"/").concat(x)];if(v){var b=e.table(x),I=v.optimisticOps.filter(function(q){return q.trans===d});if(d._explicit&&m&&d.mutatedParts)for(var g=0,w=Object.values(v.queries.query);g<w.length;g++)for(var S=0,E=(M=w[g]).slice();S<E.length;S++)Cr((R=E[S]).obsSet,d.mutatedParts)&&(Se(M,R),R.subscribers.forEach(function(q){return y.add(q)}));else if(0<I.length){v.optimisticOps=v.optimisticOps.filter(function(q){return q.trans!==d});for(var C=0,T=Object.values(v.queries.query);C<T.length;C++)for(var M,R,D,F=0,P=(M=T[C]).slice();F<P.length;F++)(R=P[F]).res!=null&&d.mutatedParts&&(m&&!R.dirty?(D=Object.isFrozen(R.res),D=Ei(R.res,R.req,I,b,R,D),R.dirty?(Se(M,R),R.subscribers.forEach(function(q){return y.add(q)})):D!==R.res&&(R.res=D,R.promise=B.resolve({result:D}))):(R.dirty&&Se(M,R),R.subscribers.forEach(function(q){return y.add(q)})))}}}y.forEach(function(q){return q()})}}},d.addEventListener("abort",i(!1),{signal:c}),d.addEventListener("error",i(!1),{signal:c}),d.addEventListener("complete",i(!0),{signal:c})),d},table:function(n){var r=e.table(n),i=r.schema.primaryKey;return u(u({},r),{mutate:function(s){var c=X.trans;if(i.outbound||c.db._options.cache==="disabled"||c.explicit||c.idbtrans.mode!=="readwrite")return r.mutate(s);var d=Ht["idb://".concat(t,"/").concat(n)];return d?(c=r.mutate(s),s.type!=="add"&&s.type!=="put"||!(50<=s.values.length||Dr(i,s).some(function(m){return m==null}))?(d.optimisticOps.push(s),s.mutatedParts&&Nn(s.mutatedParts),c.then(function(m){0<m.numFailures&&(Se(d.optimisticOps,s),(m=Si(0,s,m))&&d.optimisticOps.push(m),s.mutatedParts&&Nn(s.mutatedParts))}),c.catch(function(){Se(d.optimisticOps,s),s.mutatedParts&&Nn(s.mutatedParts)})):c.then(function(m){var y=Si(0,u(u({},s),{values:s.values.map(function(_,h){var x;return m.failures[h]?_:(_=(x=i.keyPath)!==null&&x!==void 0&&x.includes(".")?J(_):u({},_),Q(_,i.keyPath,m.results[h]),_)})}),m);d.optimisticOps.push(y),queueMicrotask(function(){return s.mutatedParts&&Nn(s.mutatedParts)})}),c):r.mutate(s)},query:function(s){if(!wi(X,r)||!Ai("query",s))return r.query(s);var c=((y=X.trans)===null||y===void 0?void 0:y.db._options.cache)==="immutable",h=X,d=h.requery,m=h.signal,y=function(b,I,g,w){var S=Ht["idb://".concat(b,"/").concat(I)];if(!S)return[];if(!(I=S.queries[g]))return[null,!1,S,null];var E=I[(w.query?w.query.index.name:null)||""];if(!E)return[null,!1,S,null];switch(g){case"query":var C=E.find(function(T){return T.req.limit===w.limit&&T.req.values===w.values&&Ci(T.req.query.range,w.query.range)});return C?[C,!0,S,E]:[E.find(function(T){return("limit"in T.req?T.req.limit:1/0)>=w.limit&&(!w.values||T.req.values)&&Ea(T.req.query.range,w.query.range)}),!1,S,E];case"count":return C=E.find(function(T){return Ci(T.req.query.range,w.query.range)}),[C,!!C,S,E]}}(t,n,"query",s),_=y[0],h=y[1],x=y[2],v=y[3];return _&&h?_.obsSet=s.obsSet:(h=r.query(s).then(function(b){var I=b.result;if(_&&(_.res=I),c){for(var g=0,w=I.length;g<w;++g)Object.freeze(I[g]);Object.freeze(I)}else b.result=J(I);return b}).catch(function(b){return v&&_&&Se(v,_),Promise.reject(b)}),_={obsSet:s.obsSet,promise:h,subscribers:new Set,type:"query",req:s,dirty:!1},v?v.push(_):(v=[_],(x=x||(Ht["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[s.query.index.name||""]=v)),Ca(_,v,d,m),_.promise.then(function(b){return{result:Ei(b.result,s,x==null?void 0:x.optimisticOps,r,_,c)}})}})}})}};function Hn(e,t){return new Proxy(e,{get:function(n,r,i){return r==="db"?t:Reflect.get(n,r,i)}})}var vt=(ke.prototype.version=function(e){if(isNaN(e)||e<.1)throw new z.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(r){return r._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(ya),n.stores({}),this._state.autoSchema=!1,n)},ke.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||X.letThrough||this._vip)?e():new B(function(n,r){if(t._state.openComplete)return r(new z.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void r(new z.DatabaseClosed);t.open().catch(L)}t._state.dbReadyPromise.then(n,r)}).then(e)},ke.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:n,level:r??10,name:i}),e.sort(function(s,c){return s.level-c.level}),this},ke.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(i){return r?i.create!==r:!!n&&i.name!==n})),this},ke.prototype.open=function(){var e=this;return Ut(wt,function(){return Ia(e)})},ke.prototype._close=function(){var e=this._state,t=$t.indexOf(this);if(0<=t&&$t.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new B(function(n){e.dbReadyResolve=n}),e.openCanceller=new B(function(n,r){e.cancelOpen=r}))},ke.prototype.close=function(n){var t=(n===void 0?{disableAutoOpen:!0}:n).disableAutoOpen,n=this._state;t?(n.isBeingOpened&&n.cancelOpen(new z.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new z.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},ke.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!="object",r=this._state;return new B(function(i,s){function c(){t.close(e);var d=t._deps.indexedDB.deleteDatabase(t.name);d.onsuccess=we(function(){var m,y,_;m=t._deps,y=t.name,_=m.indexedDB,m=m.IDBKeyRange,Ar(_)||y===kn||wr(_,m).delete(y).catch(L),i()}),d.onerror=lt(s),d.onblocked=t._fireOnBlocked}if(n)throw new z.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(c):c()})},ke.prototype.backendDB=function(){return this.idbdb},ke.prototype.isOpen=function(){return this.idbdb!==null},ke.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},ke.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ke.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ke.prototype,"tables",{get:function(){var e=this;return A(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),ke.prototype.transaction=function(){var e=(function(t,n,r){var i=arguments.length;if(i<2)throw new z.InvalidArgument("Too few arguments");for(var s=new Array(i-1);--i;)s[i-1]=arguments[i];return r=s.pop(),[t,et(s),r]}).apply(this,arguments);return this._transaction.apply(this,e)},ke.prototype._transaction=function(e,t,n){var r=this,i=X.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);var s,c,d=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(c=t.map(function(y){if(y=y instanceof r.Table?y.name:y,typeof y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return y}),e=="r"||e===fr)s=fr;else{if(e!="rw"&&e!=dr)throw new z.InvalidArgument("Invalid transaction mode: "+e);s=dr}if(i){if(i.mode===fr&&s===dr){if(!d)throw new z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&c.forEach(function(y){if(i&&i.storeNames.indexOf(y)===-1){if(!d)throw new z.SubTransaction("Table "+y+" not included in parent transaction.");i=null}}),d&&i&&!i.active&&(i=null)}}catch(y){return i?i._promise(null,function(_,h){h(y)}):Ce(y)}var m=(function y(_,h,x,v,b){return B.resolve().then(function(){var I=X.transless||X,g=_._createTransaction(h,x,_._dbSchema,v);if(g.explicit=!0,I={trans:g,transless:I},v)g.idbtrans=v.idbtrans;else try{g.create(),g.idbtrans._explicit=!0,_._state.PR1398_maxLoop=3}catch(E){return E.name===xe.InvalidState&&_.isOpen()&&0<--_._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),_.close({disableAutoOpen:!1}),_.open().then(function(){return y(_,h,x,null,b)})):Ce(E)}var w,S=st(b);return S&&Jt(),I=B.follow(function(){var E;(w=b.call(g,g))&&(S?(E=St.bind(null,null),w.then(E,E)):typeof w.next=="function"&&typeof w.throw=="function"&&(w=Rr(w)))},I),(w&&typeof w.then=="function"?B.resolve(w).then(function(E){return g.active?E:Ce(new z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):I.then(function(){return w})).then(function(E){return v&&g._resolve(),g._completion.then(function(){return E})}).catch(function(E){return g._reject(E),Ce(E)})})}).bind(null,this,s,c,i,n);return i?i._promise(s,m,"lock"):X.trans?Ut(X.transless,function(){return r._whenReady(m)}):this._whenReady(m)},ke.prototype.table=function(e){if(!W(this._allTables,e))throw new z.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},ke);function ke(e,t){var n=this;this._middlewares={},this.verno=0;var r=ke.dependencies;this._options=t=u({addons:ke.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},r=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i,s,c,d,m,y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:L,dbReadyPromise:null,cancelOpen:L,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};y.dbReadyPromise=new B(function(h){y.dbReadyResolve=h}),y.openCanceller=new B(function(h,x){y.cancelOpen=x}),this._state=y,this.name=e,this.on=ln(this,"populate","blocked","versionchange","close",{ready:[pt,L]}),this.on.ready.subscribe=ee(this.on.ready.subscribe,function(h){return function(x,v){ke.vip(function(){var b,I=n._state;I.openComplete?(I.dbOpenError||B.resolve().then(x),v&&h(x)):I.onReadyBeingFired?(I.onReadyBeingFired.push(x),v&&h(x)):(h(x),b=n,v||h(function g(){b.on.ready.unsubscribe(x),b.on.ready.unsubscribe(g)}))})}}),this.Collection=(i=this,fn(la.prototype,function(w,g){this.db=i;var v=ii,b=null;if(g)try{v=g()}catch(S){b=S}var I=w._ctx,g=I.table,w=g.hook.reading.fire;this._ctx={table:g,index:I.index,isPrimKey:!I.index||g.schema.primKey.keyPath&&I.index===g.schema.primKey.name,range:v,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:b,or:I.or,valueMapper:w!==fe?w:null}})),this.Table=(s=this,fn(ui.prototype,function(h,x,v){this.db=s,this._tx=v,this.name=h,this.schema=x,this.hook=s._allTables[h]?s._allTables[h].hook:ln(null,{creating:[Mt,L],reading:[be,fe],updating:[un,L],deleting:[Xt,L]})})),this.Transaction=(c=this,fn(ha.prototype,function(h,x,v,b,I){var g=this;this.db=c,this.mode=h,this.storeNames=x,this.schema=v,this.chromeTransactionDurability=b,this.idbtrans=null,this.on=ln(this,"complete","error","abort"),this.parent=I||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new B(function(w,S){g._resolve=w,g._reject=S}),this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(w){var S=g.active;return g.active=!1,g.on.error.fire(w),g.parent?g.parent._reject(w):S&&g.idbtrans&&g.idbtrans.abort(),Ce(w)})})),this.Version=(d=this,fn(_a.prototype,function(h){this.db=d,this._cfg={version:h,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(m=this,fn(hi.prototype,function(h,x,v){if(this.db=m,this._ctx={table:h,index:x===":id"?null:x,or:v},this._cmp=this._ascending=me,this._descending=function(b,I){return me(I,b)},this._max=function(b,I){return 0<me(b,I)?b:I},this._min=function(b,I){return me(b,I)<0?b:I},this._IDBKeyRange=m._deps.IDBKeyRange,!this._IDBKeyRange)throw new z.MissingAPI})),this.on("versionchange",function(h){0<h.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(h){!h.newVersion||h.newVersion<h.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(h.oldVersion/10))}),this._maxKey=mn(t.IDBKeyRange),this._createTransaction=function(h,x,v,b){return new n.Transaction(h,x,v,n._options.chromeTransactionDurability,b)},this._fireOnBlocked=function(h){n.on("blocked").fire(h),$t.filter(function(x){return x.name===n.name&&x!==n&&!x._state.vcFired}).map(function(x){return x.on("versionchange").fire(h)})},this.use(Aa),this.use(ka),this.use(Sa),this.use(xa),this.use(wa);var _=new Proxy(this,{get:function(h,x,v){if(x==="_vip")return!0;if(x==="table")return function(I){return Hn(n.table(I),_)};var b=Reflect.get(h,x,v);return b instanceof ui?Hn(b,_):x==="tables"?b.map(function(I){return Hn(I,_)}):x==="_createTransaction"?function(){return Hn(b.apply(this,arguments),_)}:b}});this.vip=_,r.forEach(function(h){return h(n)})}var Wn,nt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Oa=(Mr.prototype.subscribe=function(e,t,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:n})},Mr.prototype[nt]=function(){return this},Mr);function Mr(e){this._subscribe=e}try{Wn={indexedDB:p.indexedDB||p.mozIndexedDB||p.webkitIndexedDB||p.msIndexedDB,IDBKeyRange:p.IDBKeyRange||p.webkitIDBKeyRange}}catch{Wn={indexedDB:null,IDBKeyRange:null}}function ki(e){var t,n=!1,r=new Oa(function(i){var s=st(e),c,d=!1,m={},y={},_={get closed(){return d},unsubscribe:function(){d||(d=!0,c&&c.abort(),h&&kt.storagemutated.unsubscribe(v))}};i.start&&i.start(_);var h=!1,x=function(){return lr(b)},v=function(I){Un(m,I),Cr(y,m)&&x()},b=function(){var I,g,w;!d&&Wn.indexedDB&&(m={},I={},c&&c.abort(),c=new AbortController,w=function(S){var E=Yt();try{s&&Jt();var C=At(e,S);return C=s?C.finally(St):C}finally{E&&Zt()}}(g={subscr:I,signal:c.signal,requery:x,querier:e,trans:null}),Promise.resolve(w).then(function(S){n=!0,t=S,d||g.signal.aborted||(m={},function(E){for(var C in E)if(W(E,C))return;return 1}(y=I)||h||(kt(pn,v),h=!0),lr(function(){return!d&&i.next&&i.next(S)}))},function(S){n=!1,["DatabaseClosedError","AbortError"].includes(S==null?void 0:S.name)||d||lr(function(){d||i.error&&i.error(S)})}))};return setTimeout(x,0),_});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var Wt=vt;function Fr(e){var t=Ot;try{Ot=!0,kt.storagemutated.fire(e),Tr(e,!0)}finally{Ot=t}}V(Wt,u(u({},ht),{delete:function(e){return new Wt(e,{addons:[]}).delete()},exists:function(e){return new Wt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=Wt.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(Ar(n)?Promise.resolve(n.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==kn})}):wr(n,t).toCollection().primaryKeys()).then(e)}catch{return Ce(new z.MissingAPI)}var t,n},defineClass:function(){return function(e){O(this,e)}},ignoreTransaction:function(e){return X.trans?Ut(X.transless,e):e()},vip:Sr,async:function(e){return function(){try{var t=Rr(e.apply(this,arguments));return t&&typeof t.then=="function"?t:B.resolve(t)}catch(n){return Ce(n)}}},spawn:function(e,t,n){try{var r=Rr(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:B.resolve(r)}catch(i){return Ce(i)}},currentTransaction:{get:function(){return X.trans||null}},waitFor:function(e,t){return t=B.resolve(typeof e=="function"?Wt.ignoreTransaction(e):e).timeout(t||6e4),X.trans?X.trans.waitFor(t):t},Promise:B,debug:{get:function(){return Be},set:function(e){ut(e)}},derive:ue,extend:O,props:V,override:ee,Events:ln,on:kt,liveQuery:ki,extendObservabilitySet:Un,getByKeyPath:Y,setByKeyPath:Q,delByKeyPath:function(e,t){typeof t=="string"?Q(e,t,void 0):"length"in t&&[].map.call(t,function(n){Q(e,n,void 0)})},shallowClone:oe,deepClone:J,getObjectDiff:Lr,cmp:me,asap:te,minKey:-1/0,addons:[],connections:$t,errnames:xe,dependencies:Wn,cache:Ht,semVer:"4.0.11",version:"4.0.11".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),Wt.maxKey=mn(Wt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kt(pn,function(e){Ot||(e=new CustomEvent(vr,{detail:e}),Ot=!0,dispatchEvent(e),Ot=!1)}),addEventListener(vr,function(e){e=e.detail,Ot||Fr(e)}));var nn,Ot=!1,Oi=function(){};return typeof BroadcastChannel<"u"&&((Oi=function(){(nn=new BroadcastChannel(vr)).onmessage=function(e){return e.data&&Fr(e.data)}})(),typeof nn.unref=="function"&&nn.unref(),kt(pn,function(e){Ot||nn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!vt.disableBfCache&&e.persisted){Be&&console.debug("Dexie: handling persisted pagehide"),nn!=null&&nn.close();for(var t=0,n=$t;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!vt.disableBfCache&&e.persisted&&(Be&&console.debug("Dexie: handling persisted pageshow"),Oi(),Fr({all:new Ke(-1/0,[[]])}))})),B.rejectionMapper=function(e,t){return!e||e instanceof We||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Pt[e.name]?e:(t=new Pt[e.name](t||e.message,e),"stack"in e&&U(t,"stack",{get:function(){return this.inner.stack}}),t)},ut(Be),u(vt,Object.freeze({__proto__:null,Dexie:vt,liveQuery:ki,Entity:ai,cmp:me,PropModification:dn,replacePrefix:function(e,t){return new dn({replacePrefix:[e,t]})},add:function(e){return new dn({add:e})},remove:function(e){return new dn({remove:e})},default:vt,RangeSet:Ke,mergeRanges:gn,rangesOverlap:gi}),{default:vt}),vt})})(ia);var Fo=ia.exports;const zr=Mo(Fo),qi=Symbol.for("Dexie"),er=globalThis[qi]||(globalThis[qi]=zr);if(zr.semVer!==er.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${zr.semVer} and ${er.semVer}`);const{liveQuery:zo,mergeRanges:Xo,rangesOverlap:Qo,RangeSet:Yo,cmp:Zo,Entity:Jo,PropModification:$o,replacePrefix:es,add:ts,remove:ns}=er,Xr=new er("AEMDashboard");Xr.version(4).stores({csv2024:"[eventkey+role+matchNum], [eventkey+teamNum]",events:"key, year",matches:"key, event_key, [event_key+match_number]",eTagResponses:"&url",current_event:"key"});function rs(){const l=Re("snackbar"),o=Re("qrButtonClick"),a=Re("uploadButtonClick"),u=Re("downloadButtonClick"),f=Re("title");return{snackbar:l,qrButtonClick:o,uploadButtonClick:a,downloadButtonClick:u,title:f}}const Bo="1yI5jxYxfCLxibPrqLVBAe9kpX4e9nWNGTMGqtU00GUAfqsocqLnH78uL8ouiEhX";async function is(l,o=!1){l.startsWith("/")||(l="/"+l);const a=`https://www.thebluealliance.com/api/v3${l}`,u={"X-TBA-Auth-Key":Bo};if(!o){const k=await Xr.eTagResponses.where("url").equals(l).first();k&&(u["If-None-Match"]=k.etag)}console.debug(`Requesting TBA @ ${a}`);const f=await fetch(a,{headers:u});if(f.status===304)return console.debug("Not Modified; not attempting to read data"),!1;const p=f.headers.get("ETag"),A=f.json();return p&&await Xr.eTagResponses.put({etag:p,url:l}),A}const as=ro("navigator"in globalThis&&"onLine"in navigator?navigator.onLine:!1,l=>{"addEventListener"in globalThis?(addEventListener("online",o=>{console.log("Online event",o),l(!0)}),addEventListener("offline",o=>{console.log("Offline event",o),l(!1)})):console.warn("Was unable to add an event listener for deviceOnline. If you see this warning while building/deploying sveltekit or in the nodejs console, everything should be ok, but if you see this in the browser console then the app will not be able to be reactive to the device going online/offline.")});function os(l){if(!l)return"";switch(l.comp_level){case"qm":return`Qualifying Match ${String(l.match_number).padStart(2,"0")}`;case"qf":return`Quarterfinal ${l.set_number} Match ${l.match_number}`;case"sf":return`Semifinal ${l.set_number} Match ${l.match_number}`;case"f":return`Final ${l.set_number} Match ${l.match_number}`;default:return""}}export{Wo as B,Vo as I,pe as K,Go as L,Ji as M,ta as R,Jr as S,Zi as _,zt as a,jr as b,Zr as c,Xr as d,qo as e,Ur as f,rs as g,$n as h,po as i,is as j,Wr as k,zo as l,os as m,qe as n,Vn as o,Ho as p,ve as q,No as r,bn as s,ea as t,yt as u,as as v,ho as w,ao as x};
