import{t as D,a as B,b as le,s as de}from"../chunks/DGIi1ET6.js";import{p as ie,b as d,u as ue,f as M,g as t,a as ce,s as n,d as i,c as w,n as pe,e as u,r as C,t as ge}from"../chunks/Bt561VDD.js";import{p as c,s as me,b as fe,i as W,a as ve}from"../chunks/CdiXb2lo.js";import{u as _e,Q as be,M as xe,b as he,p as ye,a as $e,T as p,f as g}from"../chunks/A6WRd95Y.js";import{g as Be,B as ke,l as we,d as K}from"../chunks/NJ6IM5ih.js";var Ce=D("<p> </p>"),De=D("<!> <!> <!> <!> <!> <!>",1),Ne=D('<!> <div class="container mx-auto"><h1 class="text-lg">Welcome to SvelteKit</h1> <input type="file"> <!> <!> <!> <div class="grid grid-cols-1 md:grid-cols-3 gap-2"><!></div></div>',1);function Te(j,z){ie(z,!0);const[E,G]=ve(),s=()=>me(t(H),"$csvData",E);let o=d(void 0),k=d(c([])),H=i(()=>we(()=>K.csv2024.toCollection().toArray()));const{qrButtonClick:J,title:O,downloadButtonClick:U,uploadButtonClick:V}=Be();J.set(()=>{h.open()}),U.set(void 0),V.set(async()=>{s()&&await _e(s())}),O.set("Laptop In Stands dashboard");let X=i(()=>{if(!s())return[];let e=performance.now(),r=new Set;for(let l of s())r.add(l.teamNum);let a=Array.from(r);return console.log("teamlist",performance.now()-e),a}),m=d(void 0),f=d(void 0),v=d(void 0),_=d(void 0),b=d(void 0),x=d(void 0);async function Y(e){console.log("handleFile enter)");const r=new FileReader;r.onload=a=>{var $;const l=($=a.target)==null?void 0:$.result;u(k,c(ye(l,{columns:!0,skip_empty_lines:!0}))),console.log(t(k));let y=$e(t(k));console.log("Inserting data into csv2024 col"),K.csv2024.bulkPut(y)},r.onerror=a=>{var l;console.error("File could not be read: "+((l=a.target)==null?void 0:l.error))},r.readAsText(e)}let h;ue(()=>{if(t(o)&&t(o)[0]){let e=t(o)[0];e.type==="text/csv"||e.name.endsWith(".csv")?(console.log("parsing thingy",e),Y(e)):(console.error("Incorrect file.type or file.name does not end with csv",e.type,e.name),console.log(e))}});var N=Ne(),S=M(N);fe(be(S,{onclose:e=>{console.log(e)}}),e=>h=e,()=>h);var L=n(S,2),P=n(w(L),2),F=n(P,2);ke(F,{onclick:()=>{h.open()},children:(e,r)=>{pe();var a=le("Press me");B(e,a)},$$slots:{default:!0}});var R=n(F,2);{var Z=e=>{var r=Ce(),a=w(r,!0);C(r),ge(()=>de(a,t(o)[0].name)),B(e,r)};W(R,e=>{t(o)&&t(o)[0]&&e(Z)})}var T=n(R,2);xe(T,{get teamList(){return t(X)},get blue1(){return t(m)},set blue1(e){u(m,c(e))},get blue2(){return t(f)},set blue2(e){u(f,c(e))},get blue3(){return t(v)},set blue3(e){u(v,c(e))},get red1(){return t(_)},set red1(e){u(_,c(e))},get red2(){return t(b)},set red2(e){u(b,c(e))},get red3(){return t(x)},set red3(e){u(x,c(e))}});var A=n(T,2),ee=w(A);{var te=e=>{var r=De(),a=M(r);const l=i(()=>g(s(),t(m)));p(a,{get teamNum(){return t(m)},get data(){return t(l)},spot:"Blue 1"});var y=n(a,2);const $=i(()=>g(s(),t(f)));p(y,{get teamNum(){return t(f)},get data(){return t($)},spot:"Blue 2"});var I=n(y,2);const re=i(()=>g(s(),t(v)));p(I,{get teamNum(){return t(v)},get data(){return t(re)},spot:"Blue 3"});var Q=n(I,2);const ae=i(()=>g(s(),t(_)));p(Q,{get teamNum(){return t(_)},get data(){return t(ae)},spot:"Red 1"});var q=n(Q,2);const se=i(()=>g(s(),t(b)));p(q,{get teamNum(){return t(b)},get data(){return t(se)},spot:"Red 2"});var ne=n(q,2);const oe=i(()=>g(s(),t(x)));p(ne,{get teamNum(){return t(x)},get data(){return t(oe)},spot:"Red 3"}),B(e,r)};W(ee,e=>{var r;((r=s())==null?void 0:r.length)>0&&e(te)})}C(A),C(L),he(P,()=>t(o),e=>u(o,e)),B(j,N),ce(),G()}export{Te as component};
